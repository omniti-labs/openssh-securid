diff -cN openssh-2.9.9p2/Makefile.in openssh-2.9.9p2-securid/Makefile.in
*** openssh-2.9.9p2/Makefile.in	Tue Sep 18 01:06:22 2001
--- openssh-2.9.9p2-securid/Makefile.in	Sun Sep 30 22:24:32 2001
***************
*** 50,56 ****
  
  SSHOBJS= ssh.o sshconnect.o sshconnect1.o sshconnect2.o sshtty.o readconf.o clientloop.o
  
! SSHDOBJS= sshd.o auth.o auth1.o auth2.o auth-chall.o auth2-chall.o auth-rhosts.o auth-options.o auth-krb4.o auth-pam.o auth2-pam.o auth-passwd.o auth-rsa.o auth-rh-rsa.o auth-sia.o sshpty.o sshlogin.o loginrec.o servconf.o serverloop.o md5crypt.o session.o groupaccess.o auth-skey.o auth-bsdauth.o
  
  MANPAGES	= scp.1.out ssh-add.1.out ssh-agent.1.out ssh-keygen.1.out ssh-keyscan.1.out ssh.1.out sshd.8.out sftp-server.8.out sftp.1.out
  MANPAGES_IN	= scp.1 ssh-add.1 ssh-agent.1 ssh-keygen.1 ssh-keyscan.1 ssh.1 sshd.8 sftp-server.8 sftp.1
--- 50,56 ----
  
  SSHOBJS= ssh.o sshconnect.o sshconnect1.o sshconnect2.o sshtty.o readconf.o clientloop.o
  
! SSHDOBJS= sshd.o auth.o auth1.o auth2.o auth-chall.o auth2-chall.o auth-rhosts.o auth-options.o auth-krb4.o auth-pam.o auth2-pam.o auth-passwd.o auth-rsa.o auth-rh-rsa.o auth-securid.o auth-sia.o sshpty.o sshlogin.o loginrec.o servconf.o serverloop.o md5crypt.o session.o groupaccess.o auth-skey.o auth-bsdauth.o
  
  MANPAGES	= scp.1.out ssh-add.1.out ssh-agent.1.out ssh-keygen.1.out ssh-keyscan.1.out ssh.1.out sshd.8.out sftp-server.8.out sftp.1.out
  MANPAGES_IN	= scp.1 ssh-add.1 ssh-agent.1 ssh-keygen.1 ssh-keyscan.1 ssh.1 sshd.8 sftp-server.8 sftp.1
diff -cN openssh-2.9.9p2/README.SecurID openssh-2.9.9p2-securid/README.SecurID
*** openssh-2.9.9p2/README.SecurID	Wed Dec 31 19:00:00 1969
--- openssh-2.9.9p2-securid/README.SecurID	Sun Sep 30 22:43:57 2001
***************
*** 0 ****
--- 1,98 ----
+ /*
+  * Author: Theo Schlossnagle <jesus@omniti.com>
+  * Copyright (c) 2000,2001 Theo Schlossnagle <jesus@omniti.com>
+  *                    All rights reserved
+  * Created: September 21, 2000
+  * License: OpenSSH License.  See the license for OpenSSH for more details.
+  *
+  * September 30th, 2001:
+  * Updated to 2.9.9p2 -- jesus@omniti.com
+  * no new features
+  *
+  * June 28, 2001:
+  * Updated to 2.9p2 -- jesus@omniti.com
+  * no new features
+  *
+  * April 24, 2001:
+  * Updated to 2.9p1 -- jesus@omniti.com
+  * added autoconf clauses to fault if sdiclient.a and headers aren't there.
+  *
+  * April 21, 2001:
+  * Updated to 2.5.2p2 -- jesus@omniti.com
+  * Incorporated some bug fixes from Anders Olsen to fix next-token code.
+  *
+  * March 19, 2001:
+  * Updated to 2.5.2p1 -- jesus@omniti.com
+  *
+  * December 20, 2000:
+  * Updated to 2.3.0p1 -- jesus@omniti.com
+  *
+  * Jan 9th, 2001:
+  * Added SecurIDUsersFile, SecurIDIgnoreShell, AllowNonSecurID directives
+  * to the sshd_config file.  These parameters are documented in the man page.
+  * This provides a more logical seperationg between fail-through due to system
+  * failure and fall-through by configuration. (fall-through vs. fail-through)
+  *   -- jesus@omniti.com
+  */
+ 
+ Seems like a few people are interested.  So here is the patch.
+ 
+ This has only been tested on UNICIES that support PAM.  There is untested
+ (only 5 lines) code in auth-passwd.c that should provide the same
+ functionality for normal (non-PAM) password verifications.
+ 
+ The patch is logical quite small, the physical patch bulky because it contains
+ all the line number changes in "configure" after running autoconf on the
+ modified configure.in file (in which I changed maybe 10 lines -- Yuk.)
+ 
+ The sshd man page has been patched too :-)  Read it for the two new options
+ relating to SecurID.
+ 
+ How it works:
+ 
+ 0) apply patch ;-)
+ 1) copy sdi headers (in SecurID example directory) into either a standard
+ include place (like /usr/local/include) or into the openssh source tree
+ or add the --with-cflags=-I/path/to/ace/examples (where the include files are)
+ 2) copy the sdiclient.a file (same dir) into the openssh source tree.
+ 
+ Make sure that /var/ace contains your sdconf.rec, etc.  If you installed
+ SecurID client or server on a machine it should be this way already.  If you
+ used a non-standard install location do a "ln -s /path/to/ace/data /var/ace"
+ 
+ 3) add --with-securid --with-pam to the configure flags.  This module rides on
+ the PAM authentication mechanism.
+ 
+ It will trigger if a user has a shell in /etc/passwd that ends with "sdshell"
+ and it snags your shell the same way sdshell does.  Users with other shells
+ will log in as if SecurID didn't exist.
+ 
+ Done:
+   o Normal passcode verification
+   o Enter next token for verification
+     (use ssh -v to see the *useful* debgging messages)
+ 
+ ssh -v will let you know if:
+  o your code was accepted.
+  o your code was rejected.
+  o you are required to wait for the next token and enter that.
+ 
+ TODO:
+   o Handle PIN creation and changing (as their are by default three log in
+ attempts, it should be straight forward to integrate in these additions --
+ both of these operations require exactly three user inputs.)
+   o Add sshd_config parameter to specify the VAR_ACE location (forced to
+ /var/ace OR VAR_ACE environment variable now.)
+   o Make autoconf find the headers in logical places and add a long-option to
+ give it a hint.  I am an "autoconf idiot"... The small changes I made were
+ challenging enough :) 
+ 
+ 
+ DISCLAIMER:
+   I works for me (yes, in production).  If you get locked out of a production
+ system becuase you replaced your sshd with this one, feeling really dumb is
+ YOUR responsibility NOT mine.  It is not my fault :-D
+ 
+ Hope this is useful! scp (and all other tools that can use ssh like rsync and
+ cvs) will work now!!!! Hooray!
+ 
diff -cN openssh-2.9.9p2/acconfig.h openssh-2.9.9p2-securid/acconfig.h
*** openssh-2.9.9p2/acconfig.h	Thu Sep 20 15:43:41 2001
--- openssh-2.9.9p2-securid/acconfig.h	Sun Sep 30 22:19:46 2001
***************
*** 196,201 ****
--- 196,204 ----
  /* Define if you want S/Key support */
  #undef SKEY
  
+ /* Define if you want SecurID support */
+ #undef SECURID
+ 
  /* Define if you want TCP Wrappers support */
  #undef LIBWRAP
  
diff -cN openssh-2.9.9p2/auth-pam.c openssh-2.9.9p2-securid/auth-pam.c
*** openssh-2.9.9p2/auth-pam.c	Mon Apr 23 14:38:37 2001
--- openssh-2.9.9p2-securid/auth-pam.c	Sun Sep 30 22:19:46 2001
***************
*** 170,176 ****
  
  	return PAM_SUCCESS;
  }
- 
  /* Called at exit to cleanly shutdown PAM */
  void do_pam_cleanup_proc(void *context)
  {
--- 170,175 ----
***************
*** 213,219 ****
  		return 0;
  	if (*password == '\0' && options.permit_empty_passwd == 0)
  		return 0;
! 
  	__pampasswd = password;
  
  	pamstate = INITIAL_LOGIN;
--- 212,230 ----
  		return 0;
  	if (*password == '\0' && options.permit_empty_passwd == 0)
  		return 0;
! #ifdef SECURID
! 	if (options.securid_authentication == 1) {
! 		int ret;
! 		debug("Attempting SecurID authentication user \"%.100s\"", pw->pw_name);
! 		ret = auth_securid_password(pw, password);
! 		if (ret >= 0)
! 			return ret;
! 		/* Only returns < 0 if the account is not a SecurID account */
! 		/* Fall back to ordinary passwd authentication. */
! 	} else {
! 		debug("SecurID disabled in server config.  Using PAM.");
! 	}
! #endif
  	__pampasswd = password;
  
  	pamstate = INITIAL_LOGIN;
diff -cN openssh-2.9.9p2/auth-passwd.c openssh-2.9.9p2-securid/auth-passwd.c
*** openssh-2.9.9p2/auth-passwd.c	Wed Jul  4 00:21:15 2001
--- openssh-2.9.9p2-securid/auth-passwd.c	Sun Sep 30 22:23:25 2001
***************
*** 146,151 ****
--- 146,160 ----
  		return 1;
  	}
  #endif
+ #ifdef SECURID
+       if (options.securid_authentication == 1) {
+               int ret = auth_securid_password(pw, password);
+               if (ret >= 0)
+                       return ret;
+               /* Only returns < 0 if the account is not a SecurID account */
+               /* Fall back to ordinary passwd authentication. */
+       }
+ #endif
  #ifdef WITH_AIXAUTHENTICATE
  	return (authenticate(pw->pw_name,password,&reenter,&authmsg) == 0);
  #endif
diff -cN openssh-2.9.9p2/auth-securid.c openssh-2.9.9p2-securid/auth-securid.c
*** openssh-2.9.9p2/auth-securid.c	Wed Dec 31 19:00:00 1969
--- openssh-2.9.9p2-securid/auth-securid.c	Sun Sep 30 22:19:46 2001
***************
*** 0 ****
--- 1,189 ----
+ /*
+  * Author: Theo Schlossnagle <jesus@omniti.com>
+  * Copyright (c) 2000 Theo Schlossnagle <jesus@omniti.com>
+  *                    All rights reserved
+  * Created: September 21, 2000
+  * This file contains the code to process a SecurID authentication
+  * including the "next token" request.
+  */
+ 
+ #include "includes.h"
+ 
+ RCSID("$OpenBSD: auth-securid.c,v 1.0 2000/09/21 01:39:38 jesus Exp $");
+ 
+ #include "packet.h"
+ #include "ssh.h"
+ #include "log.h"
+ #include "servconf.h"
+ #include "xmalloc.h"
+ 
+ #ifdef WITH_AIXAUTHENTICATE
+ # include <login.h>
+ #endif
+ #ifdef HAVE_HPUX_TRUSTED_SYSTEM_PW
+ # include <hpsecurity.h>
+ # include <prot.h>
+ #endif
+ #ifdef HAVE_SHADOW_H
+ # include <shadow.h>
+ #endif
+ #ifdef HAVE_GETPWANAM
+ # include <sys/label.h>
+ # include <sys/audit.h>
+ # include <pwdadj.h>
+ #endif
+ #if defined(HAVE_MD5_PASSWORDS) && !defined(HAVE_MD5_CRYPT)
+ # include "md5crypt.h"
+ #endif /* defined(HAVE_MD5_PASSWORDS) && !defined(HAVE_MD5_CRYPT) */
+ 
+ #ifdef SECURID
+ #include "sdi_athd.h"
+ #include "sdconf.h"
+ #include "sdacmvls.h"
+ 
+ union config_record configure;
+ #endif
+ 
+ /*
+  * Tries to authenticate the user using password.  Returns true if
+  * authentication succeeds.
+  */
+ #define INBUFFLEN 256
+ 
+ int
+ securid_usersfile_find(const char *pw_name)
+ {
+ 	extern ServerOptions options;
+ 	FILE *inf;
+ 	char inbuff[INBUFFLEN];
+ 	struct stat fileinfo;
+ 	int retval = 0;
+ 
+ 	if(!options.securid_usersfile) {
+ 		error("In securid_usersfile_find() with NULL filename!");
+ 		return -1;
+ 	}
+ 	if(lstat(options.securid_usersfile, &fileinfo)) {
+ 		error("Cannot open %s: %s",
+ 		      options.securid_usersfile, strerror(errno));
+ 		return -1;
+ 	}
+ 	if(fileinfo.st_mode & (S_IWOTH|S_IWGRP)) {
+ 		error("SecurIDUsersFile is writeable by group and other");
+ 		return -1;
+ 	}
+ 	if(!(inf = fopen(options.securid_usersfile, "r"))) {
+ 		error("Cannot open %s: %s",
+ 		      options.securid_usersfile, strerror(errno));
+ 		return -1;
+ 	}
+ 	while(fgets(inbuff,INBUFFLEN-1,inf) != NULL) {
+ 		if(inbuff[strlen(inbuff) - 1] == '\n')
+ 			inbuff[strlen(inbuff) - 1] = '\0';
+ 		retval = !strcmp(inbuff,pw_name);
+ 		if(retval) break;
+         }
+ 	fclose(inf);
+ 	if(retval) return 1;
+ 	debug2("Failed to find %s in %s",
+ 		pw_name, options.securid_usersfile);
+ 	return 0;
+ }
+ int
+ auth_securid_password(struct passwd * pw, const char *password)
+ {
+ 	static int state = 0;	/* This tells us where we expect a
+ 					0 "PIN"
+ 					1 "Next Token"
+ 				*/
+ 	int doauth;
+ 	char *ecp;
+ 	extern ServerOptions options;
+ #ifndef SECURID
+ 	return -1;
+ #else
+ 	/* Add static for the nexttoken case -- Anders Olsen 20010409 */
+ 	static struct SD_CLIENT sd_dat, *sd;
+ 
+ 	/* Check for users with no sdshell and pass them by. */
+ 	if(options.securid_usersfile) {
+ 		doauth = securid_usersfile_find(pw->pw_name);
+ 		if(doauth == 0) {	/* file is there, user is not */
+ 			if(options.allow_nonsecurid) return -1;
+ 			return 0;
+ 		} else if(doauth < 0) { /* File not there or bad perms! */
+ 			error("Failing SecurID login attempt");
+ 			return 0;	/* Fail */
+ 		}
+ 	} else {
+ 		/* No users securid_usersfile
+ 		   so use shells that end in sdshell */
+ 		if (!((ecp = strstr(pw->pw_shell, "sdshell")) &&
+ 				(*(ecp+8)=='\0')))
+ 			if(options.allow_nonsecurid) return -1;
+ 		else
+ 			return 0;
+ 	}
+ 	/* sd_check on with an empty password causes segfault against some
+ 		versions of sdiclient -- Anders Olsen 20010409 */
+ 	if (*password == '\0') {
+ 		debug2("auth_securid_password: empty password, skipping");
+ 		return 0;
+ 	}
+ 	/* Don't reopen session to securid-server is nexttoken
+ 		-- Adres Olsen 20010410 */
+ 	if (state == 0) {
+ 		int ret;
+ 		memset(&sd_dat, 0, sizeof(sd_dat));   /* clear struct */
+ 		sd = &sd_dat;
+ 
+ 		if(creadcfg()) {
+ 			/* Can't read sdconf.rec!  Gotta bail */
+ 			packet_send_debug("Couldn't read sdconf.rec.");
+ 			if(options.securid_fallback) return -1;
+ 			return 0;
+ 		}
+ 		if(sd_init(sd)) {
+ 			/* Can't establish client/server comms!  Gotta bail */
+ 			packet_send_debug("Couldn't establish client/server communications.");
+ 			if(options.securid_fallback) return -1;
+ 			return 0;
+ 		}
+ 		/* Auth PIN... */
+ 		ret = sd_check(password, pw->pw_name, sd);
+ 		if(ret == ACM_OK) {
+ 			goto success;
+ 		}
+ 		if(ret == ACM_ACCESS_DENIED) {
+ 			packet_send_debug("SecurID passcode rejected.");
+ 			return 0; /* Failed! */
+ 		}
+ 		if(ret == ACM_NEXT_CODE_REQUIRED) {
+ 			packet_send_debug("SecurID needs next token.");
+ 			state = 1; /* Process next try as sd_next */
+ 			return 0;  /* Fail, so ssh will prmpt again */
+ 		}
+ 	} else {
+ 		/* Auth next token... */
+ 		int ret;
+ 		state = 0;  /* Set back to PIN mode */
+ 		ret = sd_next(password, sd);
+ 		if(ret == ACM_OK) {
+ 			goto success;
+ 		}
+ 		packet_send_debug("SecurID passcode rejected.");
+ 		return 0; /* Failed */
+ 	}
+ 	packet_send_debug("Unhandled sdcheck() return code.");
+ 	return 0; /* Failed! */
+ 
+ success:
+ 	/* We don't free pw->pw_shell here, becuase we don't know how it was
+ 	   allocated... Besides it is a very small, one-time leak if we did
+ 	   need to free it. */
+ 	if(!options.securid_ignore_shell)
+ 		pw->pw_shell = strdup(sd->shell);
+ 	packet_send_debug("SecurID passcode accepted.");
+ 	return 1; /* Success */
+ #endif
+ }
diff -cN openssh-2.9.9p2/config.h.in openssh-2.9.9p2-securid/config.h.in
*** openssh-2.9.9p2/config.h.in	Tue Sep 25 18:50:32 2001
--- openssh-2.9.9p2-securid/config.h.in	Sun Sep 30 22:19:46 2001
***************
*** 202,207 ****
--- 202,210 ----
  /* Define if you want S/Key support */
  #undef SKEY
  
+ /* Define if you want SecurID support */
+ #undef SECURID
+ 
  /* Define if you want TCP Wrappers support */
  #undef LIBWRAP
  
diff -cN openssh-2.9.9p2/configure openssh-2.9.9p2-securid/configure
*** openssh-2.9.9p2/configure	Tue Sep 25 18:50:31 2001
--- openssh-2.9.9p2-securid/configure	Sun Sep 30 22:35:21 2001
***************
*** 26,31 ****
--- 26,33 ----
  ac_help="$ac_help
    --with-skey=PATH         Enable S/Key support"
  ac_help="$ac_help
+   --with-securid          Enable SecurID support"
+ ac_help="$ac_help
    --with-tcp-wrappers     Enable tcpwrappers support"
  ac_help="$ac_help
    --with-pam              Enable PAM support "
***************
*** 603,609 ****
  # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:607: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 605,611 ----
  # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:609: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 633,639 ****
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:637: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 635,641 ----
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:639: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 684,690 ****
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:688: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 686,692 ----
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:690: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 716,722 ****
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:720: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
--- 718,724 ----
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:722: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
***************
*** 727,738 ****
  
  cat > conftest.$ac_ext << EOF
  
! #line 731 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:736: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
--- 729,740 ----
  
  cat > conftest.$ac_ext << EOF
  
! #line 733 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:738: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
***************
*** 758,769 ****
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:762: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:767: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 760,771 ----
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:764: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:769: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 772,778 ****
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:776: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
--- 774,780 ----
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:778: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
***************
*** 791,797 ****
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:795: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 793,799 ----
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:797: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 848,854 ****
  fi
  
  echo $ac_n "checking host system type""... $ac_c" 1>&6
! echo "configure:852: checking host system type" >&5
  
  host_alias=$host
  case "$host_alias" in
--- 850,856 ----
  fi
  
  echo $ac_n "checking host system type""... $ac_c" 1>&6
! echo "configure:854: checking host system type" >&5
  
  host_alias=$host
  case "$host_alias" in
***************
*** 869,882 ****
  echo "$ac_t""$host" 1>&6
  
  echo $ac_n "checking whether byte ordering is bigendian""... $ac_c" 1>&6
! echo "configure:873: checking whether byte ordering is bigendian" >&5
  if eval "test \"`echo '$''{'ac_cv_c_bigendian'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_bigendian=unknown
  # See if sys/param.h defines the BYTE_ORDER macro.
  cat > conftest.$ac_ext <<EOF
! #line 880 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
--- 871,884 ----
  echo "$ac_t""$host" 1>&6
  
  echo $ac_n "checking whether byte ordering is bigendian""... $ac_c" 1>&6
! echo "configure:875: checking whether byte ordering is bigendian" >&5
  if eval "test \"`echo '$''{'ac_cv_c_bigendian'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_bigendian=unknown
  # See if sys/param.h defines the BYTE_ORDER macro.
  cat > conftest.$ac_ext <<EOF
! #line 882 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
***************
*** 887,897 ****
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:891: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    # It does; now see whether it defined to BIG_ENDIAN or not.
  cat > conftest.$ac_ext <<EOF
! #line 895 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
--- 889,899 ----
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:893: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    # It does; now see whether it defined to BIG_ENDIAN or not.
  cat > conftest.$ac_ext <<EOF
! #line 897 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
***************
*** 902,908 ****
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:906: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_bigendian=yes
  else
--- 904,910 ----
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:908: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_bigendian=yes
  else
***************
*** 922,928 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 926 "configure"
  #include "confdefs.h"
  main () {
    /* Are we little or big endian?  From Harbison&Steele.  */
--- 924,930 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 928 "configure"
  #include "confdefs.h"
  main () {
    /* Are we little or big endian?  From Harbison&Steele.  */
***************
*** 935,941 ****
    exit (u.c[sizeof (long) - 1] == 1);
  }
  EOF
! if { (eval echo configure:939: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_c_bigendian=no
  else
--- 937,943 ----
    exit (u.c[sizeof (long) - 1] == 1);
  }
  EOF
! if { (eval echo configure:941: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_c_bigendian=no
  else
***************
*** 961,967 ****
  
  # Checks for programs.
  echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
! echo "configure:965: checking how to run the C preprocessor" >&5
  # On Suns, sometimes $CPP names a directory.
  if test -n "$CPP" && test -d "$CPP"; then
    CPP=
--- 963,969 ----
  
  # Checks for programs.
  echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
! echo "configure:967: checking how to run the C preprocessor" >&5
  # On Suns, sometimes $CPP names a directory.
  if test -n "$CPP" && test -d "$CPP"; then
    CPP=
***************
*** 976,988 ****
    # On the NeXT, cc -E runs the code through the compiler's parser,
    # not just through cpp.
    cat > conftest.$ac_ext <<EOF
! #line 980 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:986: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 978,990 ----
    # On the NeXT, cc -E runs the code through the compiler's parser,
    # not just through cpp.
    cat > conftest.$ac_ext <<EOF
! #line 982 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:988: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 993,1005 ****
    rm -rf conftest*
    CPP="${CC-cc} -E -traditional-cpp"
    cat > conftest.$ac_ext <<EOF
! #line 997 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1003: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 995,1007 ----
    rm -rf conftest*
    CPP="${CC-cc} -E -traditional-cpp"
    cat > conftest.$ac_ext <<EOF
! #line 999 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1005: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 1010,1022 ****
    rm -rf conftest*
    CPP="${CC-cc} -nologo -E"
    cat > conftest.$ac_ext <<EOF
! #line 1014 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1020: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 1012,1024 ----
    rm -rf conftest*
    CPP="${CC-cc} -nologo -E"
    cat > conftest.$ac_ext <<EOF
! #line 1016 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1022: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 1043,1049 ****
  # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1047: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1045,1051 ----
  # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1049: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1082,1088 ****
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
  # ./install, which can be erroneously created by make from ./install.sh.
  echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
! echo "configure:1086: checking for a BSD compatible install" >&5
  if test -z "$INSTALL"; then
  if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 1084,1090 ----
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
  # ./install, which can be erroneously created by make from ./install.sh.
  echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
! echo "configure:1088: checking for a BSD compatible install" >&5
  if test -z "$INSTALL"; then
  if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 1137,1143 ****
  # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1141: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1139,1145 ----
  # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1143: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1174,1180 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1178: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1176,1182 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1180: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1213,1219 ****
  # Extract the first word of "ent", so it can be a program name with args.
  set dummy ent; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1217: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_ENT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1215,1221 ----
  # Extract the first word of "ent", so it can be a program name with args.
  set dummy ent; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1219: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_ENT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1251,1257 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1255: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_FILEPRIV'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1253,1259 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1257: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_FILEPRIV'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1290,1296 ****
  # Extract the first word of "bash", so it can be a program name with args.
  set dummy bash; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1294: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1292,1298 ----
  # Extract the first word of "bash", so it can be a program name with args.
  set dummy bash; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1296: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1325,1331 ****
  # Extract the first word of "ksh", so it can be a program name with args.
  set dummy ksh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1329: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1327,1333 ----
  # Extract the first word of "ksh", so it can be a program name with args.
  set dummy ksh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1331: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1360,1366 ****
  # Extract the first word of "sh", so it can be a program name with args.
  set dummy sh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1364: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1362,1368 ----
  # Extract the first word of "sh", so it can be a program name with args.
  set dummy sh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1366: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1412,1418 ****
  	# Extract the first word of "login", so it can be a program name with args.
  set dummy login; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1416: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_LOGIN_PROGRAM_FALLBACK'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1414,1420 ----
  	# Extract the first word of "login", so it can be a program name with args.
  set dummy login; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1418: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_LOGIN_PROGRAM_FALLBACK'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1458,1478 ****
  
  	
  echo $ac_n "checking for inline""... $ac_c" 1>&6
! echo "configure:1462: checking for inline" >&5
  if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_inline=no
  for ac_kw in inline __inline__ __inline; do
    cat > conftest.$ac_ext <<EOF
! #line 1469 "configure"
  #include "confdefs.h"
  
  int main() {
  } $ac_kw foo() {
  ; return 0; }
  EOF
! if { (eval echo configure:1476: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_inline=$ac_kw; break
  else
--- 1460,1480 ----
  
  	
  echo $ac_n "checking for inline""... $ac_c" 1>&6
! echo "configure:1464: checking for inline" >&5
  if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_inline=no
  for ac_kw in inline __inline__ __inline; do
    cat > conftest.$ac_ext <<EOF
! #line 1471 "configure"
  #include "confdefs.h"
  
  int main() {
  } $ac_kw foo() {
  ; return 0; }
  EOF
! if { (eval echo configure:1478: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_inline=$ac_kw; break
  else
***************
*** 1511,1522 ****
  		blibpath="/usr/lib:/lib:/usr/local/lib"
  	fi
  	echo $ac_n "checking for authenticate""... $ac_c" 1>&6
! echo "configure:1515: checking for authenticate" >&5
  if eval "test \"`echo '$''{'ac_cv_func_authenticate'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1520 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char authenticate(); below.  */
--- 1513,1524 ----
  		blibpath="/usr/lib:/lib:/usr/local/lib"
  	fi
  	echo $ac_n "checking for authenticate""... $ac_c" 1>&6
! echo "configure:1517: checking for authenticate" >&5
  if eval "test \"`echo '$''{'ac_cv_func_authenticate'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1522 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char authenticate(); below.  */
***************
*** 1539,1545 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1543: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_authenticate=yes"
  else
--- 1541,1547 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1545: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_authenticate=yes"
  else
***************
*** 1688,1699 ****
  EOF
  
  	echo $ac_n "checking for jlimit_startjob""... $ac_c" 1>&6
! echo "configure:1692: checking for jlimit_startjob" >&5
  if eval "test \"`echo '$''{'ac_cv_func_jlimit_startjob'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1697 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char jlimit_startjob(); below.  */
--- 1690,1701 ----
  EOF
  
  	echo $ac_n "checking for jlimit_startjob""... $ac_c" 1>&6
! echo "configure:1694: checking for jlimit_startjob" >&5
  if eval "test \"`echo '$''{'ac_cv_func_jlimit_startjob'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1699 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char jlimit_startjob(); below.  */
***************
*** 1716,1722 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1720: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_jlimit_startjob=yes"
  else
--- 1718,1724 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1722: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_jlimit_startjob=yes"
  else
***************
*** 1765,1771 ****
  
  	SONY=1
  	echo $ac_n "checking for xatexit in -liberty""... $ac_c" 1>&6
! echo "configure:1769: checking for xatexit in -liberty" >&5
  ac_lib_var=`echo iberty'_'xatexit | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 1767,1773 ----
  
  	SONY=1
  	echo $ac_n "checking for xatexit in -liberty""... $ac_c" 1>&6
! echo "configure:1771: checking for xatexit in -liberty" >&5
  ac_lib_var=`echo iberty'_'xatexit | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 1773,1779 ****
    ac_save_LIBS="$LIBS"
  LIBS="-liberty  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 1777 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 1775,1781 ----
    ac_save_LIBS="$LIBS"
  LIBS="-liberty  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 1779 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 1784,1790 ****
  xatexit()
  ; return 0; }
  EOF
! if { (eval echo configure:1788: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 1786,1792 ----
  xatexit()
  ; return 0; }
  EOF
! if { (eval echo configure:1790: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 1859,1865 ****
  	# hardwire lastlog location (can't detect it on some versions)
  	conf_lastlog_location="/var/adm/lastlog"
  	echo $ac_n "checking for obsolete utmp and wtmp in solaris2.x""... $ac_c" 1>&6
! echo "configure:1863: checking for obsolete utmp and wtmp in solaris2.x" >&5
  	sol2ver=`echo "$host"| sed -e 's/.*[0-9]\.//'`
  	if test "$sol2ver" -ge 8; then
  		echo "$ac_t""yes" 1>&6
--- 1861,1867 ----
  	# hardwire lastlog location (can't detect it on some versions)
  	conf_lastlog_location="/var/adm/lastlog"
  	echo $ac_n "checking for obsolete utmp and wtmp in solaris2.x""... $ac_c" 1>&6
! echo "configure:1865: checking for obsolete utmp and wtmp in solaris2.x" >&5
  	sol2ver=`echo "$host"| sed -e 's/.*[0-9]\.//'`
  	if test "$sol2ver" -ge 8; then
  		echo "$ac_t""yes" 1>&6
***************
*** 1880,1891 ****
  	for ac_func in getpwanam
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:1884: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1889 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 1882,1893 ----
  	for ac_func in getpwanam
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:1886: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1891 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 1908,1914 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1912: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 1910,1916 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1914: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2032,2043 ****
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2036: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2041 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 2034,2045 ----
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2038: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2043 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 2060,2066 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2064: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 2062,2068 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2066: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2111,2122 ****
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2115: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2120 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 2113,2124 ----
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2117: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2122 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 2139,2145 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2143: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 2141,2147 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2145: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2177,2183 ****
  	;;
  *-dec-osf*)
  	echo $ac_n "checking for Digital Unix SIA""... $ac_c" 1>&6
! echo "configure:2181: checking for Digital Unix SIA" >&5
  	no_osfsia=""
  	# Check whether --with-osfsia or --without-osfsia was given.
  if test "${with_osfsia+set}" = set; then
--- 2179,2185 ----
  	;;
  *-dec-osf*)
  	echo $ac_n "checking for Digital Unix SIA""... $ac_c" 1>&6
! echo "configure:2183: checking for Digital Unix SIA" >&5
  	no_osfsia=""
  	# Check whether --with-osfsia or --without-osfsia was given.
  if test "${with_osfsia+set}" = set; then
***************
*** 2284,2290 ****
    
  
  		echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2288: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2286,2292 ----
    
  
  		echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2290: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2292,2298 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2296 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2294,2300 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2298 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2303,2309 ****
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2307: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2305,2311 ----
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2309: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2340,2346 ****
  # Checks for libraries.
  if test -z "$no_libnsl" ; then
  	echo $ac_n "checking for yp_match in -lnsl""... $ac_c" 1>&6
! echo "configure:2344: checking for yp_match in -lnsl" >&5
  ac_lib_var=`echo nsl'_'yp_match | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2342,2348 ----
  # Checks for libraries.
  if test -z "$no_libnsl" ; then
  	echo $ac_n "checking for yp_match in -lnsl""... $ac_c" 1>&6
! echo "configure:2346: checking for yp_match in -lnsl" >&5
  ac_lib_var=`echo nsl'_'yp_match | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2348,2354 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lnsl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2352 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2350,2356 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lnsl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2354 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2359,2365 ****
  yp_match()
  ; return 0; }
  EOF
! if { (eval echo configure:2363: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2361,2367 ----
  yp_match()
  ; return 0; }
  EOF
! if { (eval echo configure:2365: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2389,2395 ****
  fi
  if test -z "$no_libsocket" ; then
  	echo $ac_n "checking for main in -lsocket""... $ac_c" 1>&6
! echo "configure:2393: checking for main in -lsocket" >&5
  ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2391,2397 ----
  fi
  if test -z "$no_libsocket" ; then
  	echo $ac_n "checking for main in -lsocket""... $ac_c" 1>&6
! echo "configure:2395: checking for main in -lsocket" >&5
  ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2397,2410 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lsocket  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2401 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:2408: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2399,2412 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lsocket  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2403 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:2410: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2434,2440 ****
  fi
  
  echo $ac_n "checking for innetgr in -lrpc""... $ac_c" 1>&6
! echo "configure:2438: checking for innetgr in -lrpc" >&5
  ac_lib_var=`echo rpc'_'innetgr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2436,2442 ----
  fi
  
  echo $ac_n "checking for innetgr in -lrpc""... $ac_c" 1>&6
! echo "configure:2440: checking for innetgr in -lrpc" >&5
  ac_lib_var=`echo rpc'_'innetgr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2442,2448 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lrpc -lyp -lrpc $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2446 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2444,2450 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lrpc -lyp -lrpc $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2448 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2453,2459 ****
  innetgr()
  ; return 0; }
  EOF
! if { (eval echo configure:2457: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2455,2461 ----
  innetgr()
  ; return 0; }
  EOF
! if { (eval echo configure:2459: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2475,2481 ****
  
  
  echo $ac_n "checking for getspnam in -lgen""... $ac_c" 1>&6
! echo "configure:2479: checking for getspnam in -lgen" >&5
  ac_lib_var=`echo gen'_'getspnam | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2477,2483 ----
  
  
  echo $ac_n "checking for getspnam in -lgen""... $ac_c" 1>&6
! echo "configure:2481: checking for getspnam in -lgen" >&5
  ac_lib_var=`echo gen'_'getspnam | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2483,2489 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lgen  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2487 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2485,2491 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lgen  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2489 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2494,2500 ****
  getspnam()
  ; return 0; }
  EOF
! if { (eval echo configure:2498: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2496,2502 ----
  getspnam()
  ; return 0; }
  EOF
! if { (eval echo configure:2500: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2515,2521 ****
  fi
  
  echo $ac_n "checking for deflate in -lz""... $ac_c" 1>&6
! echo "configure:2519: checking for deflate in -lz" >&5
  ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2517,2523 ----
  fi
  
  echo $ac_n "checking for deflate in -lz""... $ac_c" 1>&6
! echo "configure:2521: checking for deflate in -lz" >&5
  ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2523,2529 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lz  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2527 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2525,2531 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lz  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2529 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2534,2540 ****
  deflate()
  ; return 0; }
  EOF
! if { (eval echo configure:2538: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2536,2542 ----
  deflate()
  ; return 0; }
  EOF
! if { (eval echo configure:2540: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2563,2569 ****
  fi
  
  echo $ac_n "checking for login in -lutil""... $ac_c" 1>&6
! echo "configure:2567: checking for login in -lutil" >&5
  ac_lib_var=`echo util'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2565,2571 ----
  fi
  
  echo $ac_n "checking for login in -lutil""... $ac_c" 1>&6
! echo "configure:2569: checking for login in -lutil" >&5
  ac_lib_var=`echo util'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2571,2577 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lutil  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2575 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2573,2579 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lutil  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2577 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2582,2588 ****
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:2586: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2584,2590 ----
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:2588: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2609,2620 ****
  # We don't want to check if we did an pcre override.
  if test -z "$no_comp_check" ; then
  	echo $ac_n "checking for regcomp""... $ac_c" 1>&6
! echo "configure:2613: checking for regcomp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_regcomp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2618 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char regcomp(); below.  */
--- 2611,2622 ----
  # We don't want to check if we did an pcre override.
  if test -z "$no_comp_check" ; then
  	echo $ac_n "checking for regcomp""... $ac_c" 1>&6
! echo "configure:2615: checking for regcomp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_regcomp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2620 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char regcomp(); below.  */
***************
*** 2637,2643 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2641: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_regcomp=yes"
  else
--- 2639,2645 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2643: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_regcomp=yes"
  else
***************
*** 2659,2665 ****
    echo "$ac_t""no" 1>&6
  
  			echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2663: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2661,2667 ----
    echo "$ac_t""no" 1>&6
  
  			echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2665: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2667,2673 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2671 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2669,2675 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2673 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2678,2684 ****
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2682: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2680,2686 ----
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2684: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2714,2725 ****
  fi
  
  echo $ac_n "checking for strcasecmp""... $ac_c" 1>&6
! echo "configure:2718: checking for strcasecmp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strcasecmp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2723 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strcasecmp(); below.  */
--- 2716,2727 ----
  fi
  
  echo $ac_n "checking for strcasecmp""... $ac_c" 1>&6
! echo "configure:2720: checking for strcasecmp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strcasecmp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2725 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strcasecmp(); below.  */
***************
*** 2742,2748 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2746: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strcasecmp=yes"
  else
--- 2744,2750 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2748: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strcasecmp=yes"
  else
***************
*** 2760,2766 ****
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
! echo "configure:2764: checking for strcasecmp in -lresolv" >&5
  ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2762,2768 ----
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
! echo "configure:2766: checking for strcasecmp in -lresolv" >&5
  ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2768,2774 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2772 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2770,2776 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2774 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2779,2785 ****
  strcasecmp()
  ; return 0; }
  EOF
! if { (eval echo configure:2783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2781,2787 ----
  strcasecmp()
  ; return 0; }
  EOF
! if { (eval echo configure:2785: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2803,2814 ****
  fi
  
  echo $ac_n "checking for utimes""... $ac_c" 1>&6
! echo "configure:2807: checking for utimes" >&5
  if eval "test \"`echo '$''{'ac_cv_func_utimes'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2812 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char utimes(); below.  */
--- 2805,2816 ----
  fi
  
  echo $ac_n "checking for utimes""... $ac_c" 1>&6
! echo "configure:2809: checking for utimes" >&5
  if eval "test \"`echo '$''{'ac_cv_func_utimes'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2814 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char utimes(); below.  */
***************
*** 2831,2837 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2835: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_utimes=yes"
  else
--- 2833,2839 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2837: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_utimes=yes"
  else
***************
*** 2849,2855 ****
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for utimes in -lc89""... $ac_c" 1>&6
! echo "configure:2853: checking for utimes in -lc89" >&5
  ac_lib_var=`echo c89'_'utimes | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2851,2857 ----
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for utimes in -lc89""... $ac_c" 1>&6
! echo "configure:2855: checking for utimes in -lc89" >&5
  ac_lib_var=`echo c89'_'utimes | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2857,2863 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lc89  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2861 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2859,2865 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lc89  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2863 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2868,2874 ****
  utimes()
  ; return 0; }
  EOF
! if { (eval echo configure:2872: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2870,2876 ----
  utimes()
  ; return 0; }
  EOF
! if { (eval echo configure:2874: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2893,2904 ****
  
  
  echo $ac_n "checking for strftime""... $ac_c" 1>&6
! echo "configure:2897: checking for strftime" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strftime'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2902 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strftime(); below.  */
--- 2895,2906 ----
  
  
  echo $ac_n "checking for strftime""... $ac_c" 1>&6
! echo "configure:2899: checking for strftime" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strftime'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2904 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strftime(); below.  */
***************
*** 2921,2927 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2925: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strftime=yes"
  else
--- 2923,2929 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2927: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strftime=yes"
  else
***************
*** 2943,2949 ****
    echo "$ac_t""no" 1>&6
  # strftime is in -lintl on SCO UNIX.
  echo $ac_n "checking for strftime in -lintl""... $ac_c" 1>&6
! echo "configure:2947: checking for strftime in -lintl" >&5
  ac_lib_var=`echo intl'_'strftime | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2945,2951 ----
    echo "$ac_t""no" 1>&6
  # strftime is in -lintl on SCO UNIX.
  echo $ac_n "checking for strftime in -lintl""... $ac_c" 1>&6
! echo "configure:2949: checking for strftime in -lintl" >&5
  ac_lib_var=`echo intl'_'strftime | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2951,2957 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lintl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2955 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2953,2959 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lintl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2957 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2962,2968 ****
  strftime()
  ; return 0; }
  EOF
! if { (eval echo configure:2966: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2964,2970 ----
  strftime()
  ; return 0; }
  EOF
! if { (eval echo configure:2968: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2994,3010 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:2998: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3003 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3008: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 2996,3012 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3000: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3005 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3010: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 3033,3041 ****
  
  # Check for ALTDIRFUNC glob() extension
  echo $ac_n "checking for GLOB_ALTDIRFUNC support""... $ac_c" 1>&6
! echo "configure:3037: checking for GLOB_ALTDIRFUNC support" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3039 "configure"
  #include "confdefs.h"
  
  		#include <glob.h>
--- 3035,3043 ----
  
  # Check for ALTDIRFUNC glob() extension
  echo $ac_n "checking for GLOB_ALTDIRFUNC support""... $ac_c" 1>&6
! echo "configure:3039: checking for GLOB_ALTDIRFUNC support" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3041 "configure"
  #include "confdefs.h"
  
  		#include <glob.h>
***************
*** 3066,3074 ****
  
  # Check for g.gl_matchc glob() extension
  echo $ac_n "checking for gl_matchc field in glob_t""... $ac_c" 1>&6
! echo "configure:3070: checking for gl_matchc field in glob_t" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3072 "configure"
  #include "confdefs.h"
  
                  #include <glob.h>
--- 3068,3076 ----
  
  # Check for g.gl_matchc glob() extension
  echo $ac_n "checking for gl_matchc field in glob_t""... $ac_c" 1>&6
! echo "configure:3072: checking for gl_matchc field in glob_t" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3074 "configure"
  #include "confdefs.h"
  
                  #include <glob.h>
***************
*** 3096,3107 ****
  
  
  echo $ac_n "checking whether struct dirent allocates space for d_name""... $ac_c" 1>&6
! echo "configure:3100: checking whether struct dirent allocates space for d_name" >&5
  if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 3105 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 3098,3109 ----
  
  
  echo $ac_n "checking whether struct dirent allocates space for d_name""... $ac_c" 1>&6
! echo "configure:3102: checking whether struct dirent allocates space for d_name" >&5
  if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 3107 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 3109,3115 ****
  int main(void){struct dirent d;return(sizeof(d.d_name)<=sizeof(char));}
  	
  EOF
! if { (eval echo configure:3113: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    echo "$ac_t""yes" 1>&6
  else
--- 3111,3117 ----
  int main(void){struct dirent d;return(sizeof(d.d_name)<=sizeof(char));}
  	
  EOF
! if { (eval echo configure:3115: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    echo "$ac_t""yes" 1>&6
  else
***************
*** 3150,3161 ****
  			SKEY_MSG="yes" 
  	
  			echo $ac_n "checking for skey_keyinfo""... $ac_c" 1>&6
! echo "configure:3154: checking for skey_keyinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_func_skey_keyinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3159 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char skey_keyinfo(); below.  */
--- 3152,3163 ----
  			SKEY_MSG="yes" 
  	
  			echo $ac_n "checking for skey_keyinfo""... $ac_c" 1>&6
! echo "configure:3156: checking for skey_keyinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_func_skey_keyinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3161 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char skey_keyinfo(); below.  */
***************
*** 3178,3184 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3182: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_skey_keyinfo=yes"
  else
--- 3180,3186 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3184: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_skey_keyinfo=yes"
  else
***************
*** 3205,3210 ****
--- 3207,3261 ----
  
  fi
  
+ SECURID_MSG="no"
+ # Check whether --with-securid or --without-securid was given.
+ if test "${with_securid+set}" = set; then
+   withval="$with_securid"
+   
+ 		if test "x$withval" != "xno" ; then
+ 			saved_LIBS="$LIBS"
+ 			LIBS="$LIBS sdiclient.a"
+ 			echo $ac_n "checking for sdiclient.a""... $ac_c" 1>&6
+ echo "configure:3220: checking for sdiclient.a" >&5
+ 			cat > conftest.$ac_ext <<EOF
+ #line 3222 "configure"
+ #include "confdefs.h"
+ 
+ #include "sdi_athd.h"
+ #include "sdconf.h"
+ #include "sdacmvls.h"
+ 					struct SD_CLIENT sd_dat, *sd;
+ 					union config_record configure;
+ 				
+ int main() {
+ sd = &sd_dat; creadcfg(); sd_init(sd);
+ ; return 0; }
+ EOF
+ if { (eval echo configure:3235: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+   rm -rf conftest*
+   
+ 					echo "$ac_t""yes" 1>&6
+ 					cat >> confdefs.h <<\EOF
+ #define SECURID 1
+ EOF
+ 
+ 					SECURID_MSG="yes" 
+ 				
+ else
+   echo "configure: failed program was:" >&5
+   cat conftest.$ac_ext >&5
+   rm -rf conftest*
+   
+ 					{ echo "configure: error: *** sdiclient.a missing" 1>&2; exit 1; }
+ 				
+ 			
+ fi
+ rm -f conftest*
+ 		fi
+ 	
+ 
+ fi
+ 
  
  # Check whether user wants TCP wrappers support
  TCPW_MSG="no" 
***************
*** 3216,3224 ****
  			saved_LIBS="$LIBS"
  			LIBS="-lwrap $LIBS"
  			echo $ac_n "checking for libwrap""... $ac_c" 1>&6
! echo "configure:3220: checking for libwrap" >&5
  			cat > conftest.$ac_ext <<EOF
! #line 3222 "configure"
  #include "confdefs.h"
  
  #include <tcpd.h>
--- 3267,3275 ----
  			saved_LIBS="$LIBS"
  			LIBS="-lwrap $LIBS"
  			echo $ac_n "checking for libwrap""... $ac_c" 1>&6
! echo "configure:3271: checking for libwrap" >&5
  			cat > conftest.$ac_ext <<EOF
! #line 3273 "configure"
  #include "confdefs.h"
  
  #include <tcpd.h>
***************
*** 3228,3234 ****
  hosts_access(0);
  ; return 0; }
  EOF
! if { (eval echo configure:3232: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    
  					echo "$ac_t""yes" 1>&6
--- 3279,3285 ----
  hosts_access(0);
  ; return 0; }
  EOF
! if { (eval echo configure:3283: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    
  					echo "$ac_t""yes" 1>&6
***************
*** 3257,3268 ****
  for ac_func in arc4random atexit b64_ntop bcopy bindresvport_sa clock dirname fchown fchmod freeaddrinfo futimes gai_strerror getcwd getaddrinfo getgrouplist getopt getnameinfo getrlimit getrusage getttyent glob inet_aton inet_ntoa inet_ntop innetgr login_getcapbool md5_crypt memmove mkdtemp on_exit openpty readpassphrase realpath rresvport_af setdtablesize setenv setegid seteuid setlogin setproctitle setresgid setreuid setrlimit setsid setvbuf sigaction sigvec snprintf strerror strlcat strlcpy strmode strsep sysconf tcgetpgrp utimes vsnprintf vhangup waitpid _getpty __b64_ntop
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3261: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3266 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3308,3319 ----
  for ac_func in arc4random atexit b64_ntop bcopy bindresvport_sa clock dirname fchown fchmod freeaddrinfo futimes gai_strerror getcwd getaddrinfo getgrouplist getopt getnameinfo getrlimit getrusage getttyent glob inet_aton inet_ntoa inet_ntop innetgr login_getcapbool md5_crypt memmove mkdtemp on_exit openpty readpassphrase realpath rresvport_af setdtablesize setenv setegid seteuid setlogin setproctitle setresgid setreuid setrlimit setsid setvbuf sigaction sigvec snprintf strerror strlcat strlcpy strmode strsep sysconf tcgetpgrp utimes vsnprintf vhangup waitpid _getpty __b64_ntop
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3312: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3317 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3285,3291 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3289: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3336,3342 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3340: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3312,3323 ****
  for ac_func in gettimeofday time
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3316: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3321 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3363,3374 ----
  for ac_func in gettimeofday time
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3367: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3372 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3340,3346 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3344: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3391,3397 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3395: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3368,3384 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3372: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3377 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3382: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 3419,3435 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3423: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3428 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3433: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 3407,3418 ****
  for ac_func in login logout updwtmp logwtmp
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3411: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3416 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3458,3469 ----
  for ac_func in login logout updwtmp logwtmp
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3462: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3467 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3435,3441 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3439: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3486,3492 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3490: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3462,3473 ****
  for ac_func in endutent getutent getutid getutline pututline setutent
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3466: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3471 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3513,3524 ----
  for ac_func in endutent getutent getutid getutline pututline setutent
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3517: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3522 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3490,3496 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3494: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3541,3547 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3545: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3517,3528 ****
  for ac_func in utmpname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3521: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3526 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3568,3579 ----
  for ac_func in utmpname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3572: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3577 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3545,3551 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3549: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3596,3602 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3600: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3572,3583 ****
  for ac_func in endutxent getutxent getutxid getutxline pututxline 
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3576: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3581 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3623,3634 ----
  for ac_func in endutxent getutxent getutxid getutxline pututxline 
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3627: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3632 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3600,3606 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3604: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3651,3657 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3655: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3627,3638 ****
  for ac_func in setutxent utmpxname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3631: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3636 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3678,3689 ----
  for ac_func in setutxent utmpxname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3682: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3687 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3655,3661 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3659: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3706,3712 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3710: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3681,3692 ****
  
  
  echo $ac_n "checking for getuserattr""... $ac_c" 1>&6
! echo "configure:3685: checking for getuserattr" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getuserattr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3690 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getuserattr(); below.  */
--- 3732,3743 ----
  
  
  echo $ac_n "checking for getuserattr""... $ac_c" 1>&6
! echo "configure:3736: checking for getuserattr" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getuserattr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3741 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getuserattr(); below.  */
***************
*** 3709,3715 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3713: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getuserattr=yes"
  else
--- 3760,3766 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3764: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getuserattr=yes"
  else
***************
*** 3730,3736 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getuserattr in -ls""... $ac_c" 1>&6
! echo "configure:3734: checking for getuserattr in -ls" >&5
  ac_lib_var=`echo s'_'getuserattr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3781,3787 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getuserattr in -ls""... $ac_c" 1>&6
! echo "configure:3785: checking for getuserattr in -ls" >&5
  ac_lib_var=`echo s'_'getuserattr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3738,3744 ****
    ac_save_LIBS="$LIBS"
  LIBS="-ls  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3742 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3789,3795 ----
    ac_save_LIBS="$LIBS"
  LIBS="-ls  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3793 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3749,3755 ****
  getuserattr()
  ; return 0; }
  EOF
! if { (eval echo configure:3753: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3800,3806 ----
  getuserattr()
  ; return 0; }
  EOF
! if { (eval echo configure:3804: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3777,3788 ****
  
  
  echo $ac_n "checking for login""... $ac_c" 1>&6
! echo "configure:3781: checking for login" >&5
  if eval "test \"`echo '$''{'ac_cv_func_login'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3786 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char login(); below.  */
--- 3828,3839 ----
  
  
  echo $ac_n "checking for login""... $ac_c" 1>&6
! echo "configure:3832: checking for login" >&5
  if eval "test \"`echo '$''{'ac_cv_func_login'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3837 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char login(); below.  */
***************
*** 3805,3811 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3809: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_login=yes"
  else
--- 3856,3862 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3860: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_login=yes"
  else
***************
*** 3826,3832 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for login in -lbsd""... $ac_c" 1>&6
! echo "configure:3830: checking for login in -lbsd" >&5
  ac_lib_var=`echo bsd'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3877,3883 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for login in -lbsd""... $ac_c" 1>&6
! echo "configure:3881: checking for login in -lbsd" >&5
  ac_lib_var=`echo bsd'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3834,3840 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3838 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3885,3891 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3889 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3845,3851 ****
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:3849: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3896,3902 ----
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:3900: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3873,3884 ****
  
  
  echo $ac_n "checking for daemon""... $ac_c" 1>&6
! echo "configure:3877: checking for daemon" >&5
  if eval "test \"`echo '$''{'ac_cv_func_daemon'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3882 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char daemon(); below.  */
--- 3924,3935 ----
  
  
  echo $ac_n "checking for daemon""... $ac_c" 1>&6
! echo "configure:3928: checking for daemon" >&5
  if eval "test \"`echo '$''{'ac_cv_func_daemon'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3933 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char daemon(); below.  */
***************
*** 3901,3907 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3905: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_daemon=yes"
  else
--- 3952,3958 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3956: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_daemon=yes"
  else
***************
*** 3922,3928 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for daemon in -lbsd""... $ac_c" 1>&6
! echo "configure:3926: checking for daemon in -lbsd" >&5
  ac_lib_var=`echo bsd'_'daemon | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3973,3979 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for daemon in -lbsd""... $ac_c" 1>&6
! echo "configure:3977: checking for daemon in -lbsd" >&5
  ac_lib_var=`echo bsd'_'daemon | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3930,3936 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3934 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3981,3987 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3985 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3941,3947 ****
  daemon()
  ; return 0; }
  EOF
! if { (eval echo configure:3945: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3992,3998 ----
  daemon()
  ; return 0; }
  EOF
! if { (eval echo configure:3996: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3969,3980 ****
  
  
  echo $ac_n "checking for getpagesize""... $ac_c" 1>&6
! echo "configure:3973: checking for getpagesize" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpagesize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3978 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getpagesize(); below.  */
--- 4020,4031 ----
  
  
  echo $ac_n "checking for getpagesize""... $ac_c" 1>&6
! echo "configure:4024: checking for getpagesize" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpagesize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4029 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getpagesize(); below.  */
***************
*** 3997,4003 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4001: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getpagesize=yes"
  else
--- 4048,4054 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4052: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getpagesize=yes"
  else
***************
*** 4018,4024 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getpagesize in -lucb""... $ac_c" 1>&6
! echo "configure:4022: checking for getpagesize in -lucb" >&5
  ac_lib_var=`echo ucb'_'getpagesize | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4069,4075 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getpagesize in -lucb""... $ac_c" 1>&6
! echo "configure:4073: checking for getpagesize in -lucb" >&5
  ac_lib_var=`echo ucb'_'getpagesize | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4026,4032 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lucb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4030 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4077,4083 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lucb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4081 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4037,4043 ****
  getpagesize()
  ; return 0; }
  EOF
! if { (eval echo configure:4041: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4088,4094 ----
  getpagesize()
  ; return 0; }
  EOF
! if { (eval echo configure:4092: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4067,4085 ****
  # Check for broken snprintf
  if test "x$ac_cv_func_snprintf" = "xyes" ; then
  	echo $ac_n "checking whether snprintf correctly terminates long strings""... $ac_c" 1>&6
! echo "configure:4071: checking whether snprintf correctly terminates long strings" >&5
  	if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4076 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
  int main(void){char b[5];snprintf(b,5,"123456789");return(b[4]!='\0');}
  		
  EOF
! if { (eval echo configure:4083: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    echo "$ac_t""yes" 1>&6
  else
--- 4118,4136 ----
  # Check for broken snprintf
  if test "x$ac_cv_func_snprintf" = "xyes" ; then
  	echo $ac_n "checking whether snprintf correctly terminates long strings""... $ac_c" 1>&6
! echo "configure:4122: checking whether snprintf correctly terminates long strings" >&5
  	if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4127 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
  int main(void){char b[5];snprintf(b,5,"123456789");return(b[4]!='\0');}
  		
  EOF
! if { (eval echo configure:4134: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    echo "$ac_t""yes" 1>&6
  else
***************
*** 4102,4108 ****
  fi
  
  echo $ac_n "checking whether getpgrp takes no argument""... $ac_c" 1>&6
! echo "configure:4106: checking whether getpgrp takes no argument" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpgrp_void'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4153,4159 ----
  fi
  
  echo $ac_n "checking whether getpgrp takes no argument""... $ac_c" 1>&6
! echo "configure:4157: checking whether getpgrp takes no argument" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpgrp_void'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4110,4116 ****
    { echo "configure: error: cannot check getpgrp if cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4114 "configure"
  #include "confdefs.h"
  
  /*
--- 4161,4167 ----
    { echo "configure: error: cannot check getpgrp if cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4165 "configure"
  #include "confdefs.h"
  
  /*
***************
*** 4165,4171 ****
  }
  
  EOF
! if { (eval echo configure:4169: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_func_getpgrp_void=yes
  else
--- 4216,4222 ----
  }
  
  EOF
! if { (eval echo configure:4220: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_func_getpgrp_void=yes
  else
***************
*** 4201,4207 ****
  			fi
  
  			echo $ac_n "checking for dlopen in -ldl""... $ac_c" 1>&6
! echo "configure:4205: checking for dlopen in -ldl" >&5
  ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4252,4258 ----
  			fi
  
  			echo $ac_n "checking for dlopen in -ldl""... $ac_c" 1>&6
! echo "configure:4256: checking for dlopen in -ldl" >&5
  ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4209,4215 ****
    ac_save_LIBS="$LIBS"
  LIBS="-ldl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4213 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4260,4266 ----
    ac_save_LIBS="$LIBS"
  LIBS="-ldl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4264 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4220,4226 ****
  dlopen()
  ; return 0; }
  EOF
! if { (eval echo configure:4224: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4271,4277 ----
  dlopen()
  ; return 0; }
  EOF
! if { (eval echo configure:4275: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4248,4254 ****
  fi
  
  			echo $ac_n "checking for pam_set_item in -lpam""... $ac_c" 1>&6
! echo "configure:4252: checking for pam_set_item in -lpam" >&5
  ac_lib_var=`echo pam'_'pam_set_item | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4299,4305 ----
  fi
  
  			echo $ac_n "checking for pam_set_item in -lpam""... $ac_c" 1>&6
! echo "configure:4303: checking for pam_set_item in -lpam" >&5
  ac_lib_var=`echo pam'_'pam_set_item | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4256,4262 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpam  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4260 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4307,4313 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpam  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4311 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4267,4273 ****
  pam_set_item()
  ; return 0; }
  EOF
! if { (eval echo configure:4271: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4318,4324 ----
  pam_set_item()
  ; return 0; }
  EOF
! if { (eval echo configure:4322: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4298,4309 ****
  			for ac_func in pam_getenvlist
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4302: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4307 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 4349,4360 ----
  			for ac_func in pam_getenvlist
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4353: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4358 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 4326,4332 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4330: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 4377,4383 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4381: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 4368,4376 ****
  if test "x$PAM_MSG" = "xyes" ; then
  	# Check PAM strerror arguments (old PAM)
  	echo $ac_n "checking whether pam_strerror takes only one argument""... $ac_c" 1>&6
! echo "configure:4372: checking whether pam_strerror takes only one argument" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 4374 "configure"
  #include "confdefs.h"
  
  #include <stdlib.h>
--- 4419,4427 ----
  if test "x$PAM_MSG" = "xyes" ; then
  	# Check PAM strerror arguments (old PAM)
  	echo $ac_n "checking whether pam_strerror takes only one argument""... $ac_c" 1>&6
! echo "configure:4423: checking whether pam_strerror takes only one argument" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 4425 "configure"
  #include "confdefs.h"
  
  #include <stdlib.h>
***************
*** 4380,4386 ****
  (void)pam_strerror((pam_handle_t *)NULL, -1);
  ; return 0; }
  EOF
! if { (eval echo configure:4384: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""no" 1>&6
  else
--- 4431,4437 ----
  (void)pam_strerror((pam_handle_t *)NULL, -1);
  ; return 0; }
  EOF
! if { (eval echo configure:4435: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""no" 1>&6
  else
***************
*** 4420,4426 ****
  	tryssldir="$tryssldir $prefix"
  fi
  echo $ac_n "checking for OpenSSL directory""... $ac_c" 1>&6
! echo "configure:4424: checking for OpenSSL directory" >&5
  if eval "test \"`echo '$''{'ac_cv_openssldir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4471,4477 ----
  	tryssldir="$tryssldir $prefix"
  fi
  echo $ac_n "checking for OpenSSL directory""... $ac_c" 1>&6
! echo "configure:4475: checking for OpenSSL directory" >&5
  if eval "test \"`echo '$''{'ac_cv_openssldir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4463,4469 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4467 "configure"
  #include "confdefs.h"
  
  #include <string.h>
--- 4514,4520 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4518 "configure"
  #include "confdefs.h"
  
  #include <string.h>
***************
*** 4477,4483 ****
  }
  			
  EOF
! if { (eval echo configure:4481: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  				found_crypto=1
--- 4528,4534 ----
  }
  			
  EOF
! if { (eval echo configure:4532: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  				found_crypto=1
***************
*** 4546,4552 ****
  # Now test RSA support
  saved_LIBS="$LIBS"
  echo $ac_n "checking for RSA support""... $ac_c" 1>&6
! echo "configure:4550: checking for RSA support" >&5
  for WANTS_RSAREF in "" 1 ; do
  	if test -z "$WANTS_RSAREF" ; then
  		LIBS="$saved_LIBS"
--- 4597,4603 ----
  # Now test RSA support
  saved_LIBS="$LIBS"
  echo $ac_n "checking for RSA support""... $ac_c" 1>&6
! echo "configure:4601: checking for RSA support" >&5
  for WANTS_RSAREF in "" 1 ; do
  	if test -z "$WANTS_RSAREF" ; then
  		LIBS="$saved_LIBS"
***************
*** 4557,4563 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4561 "configure"
  #include "confdefs.h"
  
  #include <string.h>
--- 4608,4614 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4612 "configure"
  #include "confdefs.h"
  
  #include <string.h>
***************
*** 4576,4582 ****
  }
  	
  EOF
! if { (eval echo configure:4580: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  		rsa_works=1
--- 4627,4633 ----
  }
  	
  EOF
! if { (eval echo configure:4631: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  		rsa_works=1
***************
*** 4615,4621 ****
  # version in OpenSSL. Skip this for PAM
  if test "x$PAM_MSG" = "xno" -a "x$check_for_libcrypt_later" = "x1"; then
  	echo $ac_n "checking for crypt in -lcrypt""... $ac_c" 1>&6
! echo "configure:4619: checking for crypt in -lcrypt" >&5
  ac_lib_var=`echo crypt'_'crypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4666,4672 ----
  # version in OpenSSL. Skip this for PAM
  if test "x$PAM_MSG" = "xno" -a "x$check_for_libcrypt_later" = "x1"; then
  	echo $ac_n "checking for crypt in -lcrypt""... $ac_c" 1>&6
! echo "configure:4670: checking for crypt in -lcrypt" >&5
  ac_lib_var=`echo crypt'_'crypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4623,4629 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lcrypt  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4627 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4674,4680 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lcrypt  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4678 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4634,4640 ****
  crypt()
  ; return 0; }
  EOF
! if { (eval echo configure:4638: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4685,4691 ----
  crypt()
  ; return 0; }
  EOF
! if { (eval echo configure:4689: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4663,4669 ****
  
  # Checks for data types
  echo $ac_n "checking size of char""... $ac_c" 1>&6
! echo "configure:4667: checking size of char" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_char'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4714,4720 ----
  
  # Checks for data types
  echo $ac_n "checking size of char""... $ac_c" 1>&6
! echo "configure:4718: checking size of char" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_char'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4671,4688 ****
    ac_cv_sizeof_char=1
  else
    cat > conftest.$ac_ext <<EOF
! #line 4675 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! int main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) return(1);
    fprintf(f, "%d\n", sizeof(char));
!   return(0);
  }
  EOF
! if { (eval echo configure:4686: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_char=`cat conftestval`
  else
--- 4722,4739 ----
    ac_cv_sizeof_char=1
  else
    cat > conftest.$ac_ext <<EOF
! #line 4726 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) exit(1);
    fprintf(f, "%d\n", sizeof(char));
!   exit(0);
  }
  EOF
! if { (eval echo configure:4737: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_char=`cat conftestval`
  else
***************
*** 4702,4708 ****
  
  
  echo $ac_n "checking size of short int""... $ac_c" 1>&6
! echo "configure:4706: checking size of short int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_short_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4753,4759 ----
  
  
  echo $ac_n "checking size of short int""... $ac_c" 1>&6
! echo "configure:4757: checking size of short int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_short_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4710,4727 ****
    ac_cv_sizeof_short_int=2
  else
    cat > conftest.$ac_ext <<EOF
! #line 4714 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! int main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) return(1);
    fprintf(f, "%d\n", sizeof(short int));
!   return(0);
  }
  EOF
! if { (eval echo configure:4725: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_short_int=`cat conftestval`
  else
--- 4761,4778 ----
    ac_cv_sizeof_short_int=2
  else
    cat > conftest.$ac_ext <<EOF
! #line 4765 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) exit(1);
    fprintf(f, "%d\n", sizeof(short int));
!   exit(0);
  }
  EOF
! if { (eval echo configure:4776: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_short_int=`cat conftestval`
  else
***************
*** 4741,4747 ****
  
  
  echo $ac_n "checking size of int""... $ac_c" 1>&6
! echo "configure:4745: checking size of int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4792,4798 ----
  
  
  echo $ac_n "checking size of int""... $ac_c" 1>&6
! echo "configure:4796: checking size of int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4749,4766 ****
    ac_cv_sizeof_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4753 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! int main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) return(1);
    fprintf(f, "%d\n", sizeof(int));
!   return(0);
  }
  EOF
! if { (eval echo configure:4764: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_int=`cat conftestval`
  else
--- 4800,4817 ----
    ac_cv_sizeof_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4804 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) exit(1);
    fprintf(f, "%d\n", sizeof(int));
!   exit(0);
  }
  EOF
! if { (eval echo configure:4815: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_int=`cat conftestval`
  else
***************
*** 4780,4786 ****
  
  
  echo $ac_n "checking size of long int""... $ac_c" 1>&6
! echo "configure:4784: checking size of long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4831,4837 ----
  
  
  echo $ac_n "checking size of long int""... $ac_c" 1>&6
! echo "configure:4835: checking size of long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4788,4805 ****
    ac_cv_sizeof_long_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4792 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! int main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) return(1);
    fprintf(f, "%d\n", sizeof(long int));
!   return(0);
  }
  EOF
! if { (eval echo configure:4803: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_int=`cat conftestval`
  else
--- 4839,4856 ----
    ac_cv_sizeof_long_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4843 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) exit(1);
    fprintf(f, "%d\n", sizeof(long int));
!   exit(0);
  }
  EOF
! if { (eval echo configure:4854: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_int=`cat conftestval`
  else
***************
*** 4819,4825 ****
  
  
  echo $ac_n "checking size of long long int""... $ac_c" 1>&6
! echo "configure:4823: checking size of long long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4870,4876 ----
  
  
  echo $ac_n "checking size of long long int""... $ac_c" 1>&6
! echo "configure:4874: checking size of long long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4827,4844 ****
    ac_cv_sizeof_long_long_int=8
  else
    cat > conftest.$ac_ext <<EOF
! #line 4831 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! int main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) return(1);
    fprintf(f, "%d\n", sizeof(long long int));
!   return(0);
  }
  EOF
! if { (eval echo configure:4842: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_long_int=`cat conftestval`
  else
--- 4878,4895 ----
    ac_cv_sizeof_long_long_int=8
  else
    cat > conftest.$ac_ext <<EOF
! #line 4882 "configure"
  #include "confdefs.h"
  #include <stdio.h>
! main()
  {
    FILE *f=fopen("conftestval", "w");
!   if (!f) exit(1);
    fprintf(f, "%d\n", sizeof(long long int));
!   exit(0);
  }
  EOF
! if { (eval echo configure:4893: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_long_int=`cat conftestval`
  else
***************
*** 4860,4879 ****
  
  # More checks for data types
  echo $ac_n "checking for u_int type""... $ac_c" 1>&6
! echo "configure:4864: checking for u_int type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 4870 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:4877: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int="yes" 
  else
--- 4911,4930 ----
  
  # More checks for data types
  echo $ac_n "checking for u_int type""... $ac_c" 1>&6
! echo "configure:4915: checking for u_int type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 4921 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:4928: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int="yes" 
  else
***************
*** 4897,4916 ****
  fi
  
  echo $ac_n "checking for intXX_t types""... $ac_c" 1>&6
! echo "configure:4901: checking for intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 4907 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int8_t a; int16_t b; int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:4914: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_intxx_t="yes" 
  else
--- 4948,4967 ----
  fi
  
  echo $ac_n "checking for intXX_t types""... $ac_c" 1>&6
! echo "configure:4952: checking for intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 4958 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int8_t a; int16_t b; int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:4965: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_intxx_t="yes" 
  else
***************
*** 4937,4952 ****
             test "x$ac_cv_header_stdint_h" = "xyes")
  then
      echo $ac_n "checking for intXX_t types in stdint.h""... $ac_c" 1>&6
! echo "configure:4941: checking for intXX_t types in stdint.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 4943 "configure"
  #include "confdefs.h"
   #include <stdint.h> 
  int main() {
   int8_t a; int16_t b; int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:4950: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
--- 4988,5003 ----
             test "x$ac_cv_header_stdint_h" = "xyes")
  then
      echo $ac_n "checking for intXX_t types in stdint.h""... $ac_c" 1>&6
! echo "configure:4992: checking for intXX_t types in stdint.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 4994 "configure"
  #include "confdefs.h"
   #include <stdint.h> 
  int main() {
   int8_t a; int16_t b; int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5001: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
***************
*** 4966,4985 ****
  fi
  
  echo $ac_n "checking for int64_t type""... $ac_c" 1>&6
! echo "configure:4970: checking for int64_t type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 4976 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:4983: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_int64_t="yes" 
  else
--- 5017,5036 ----
  fi
  
  echo $ac_n "checking for int64_t type""... $ac_c" 1>&6
! echo "configure:5021: checking for int64_t type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5027 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5034: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_int64_t="yes" 
  else
***************
*** 5004,5019 ****
  	
  if test -z "$have_int64_t" ; then
      echo $ac_n "checking for int64_t type in sys/socket.h""... $ac_c" 1>&6
! echo "configure:5008: checking for int64_t type in sys/socket.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5010 "configure"
  #include "confdefs.h"
   #include <sys/socket.h> 
  int main() {
   int64_t a; a = 1
  ; return 0; }
  EOF
! if { (eval echo configure:5017: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
--- 5055,5070 ----
  	
  if test -z "$have_int64_t" ; then
      echo $ac_n "checking for int64_t type in sys/socket.h""... $ac_c" 1>&6
! echo "configure:5059: checking for int64_t type in sys/socket.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5061 "configure"
  #include "confdefs.h"
   #include <sys/socket.h> 
  int main() {
   int64_t a; a = 1
  ; return 0; }
  EOF
! if { (eval echo configure:5068: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
***************
*** 5033,5052 ****
  fi
  
  echo $ac_n "checking for u_intXX_t types""... $ac_c" 1>&6
! echo "configure:5037: checking for u_intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5043 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5050: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_intxx_t="yes" 
  else
--- 5084,5103 ----
  fi
  
  echo $ac_n "checking for u_intXX_t types""... $ac_c" 1>&6
! echo "configure:5088: checking for u_intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5094 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5101: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_intxx_t="yes" 
  else
***************
*** 5071,5086 ****
  
  if test -z "$have_u_intxx_t" ; then
      echo $ac_n "checking for u_intXX_t types in sys/socket.h""... $ac_c" 1>&6
! echo "configure:5075: checking for u_intXX_t types in sys/socket.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5077 "configure"
  #include "confdefs.h"
   #include <sys/socket.h> 
  int main() {
   u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5084: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
--- 5122,5137 ----
  
  if test -z "$have_u_intxx_t" ; then
      echo $ac_n "checking for u_intXX_t types in sys/socket.h""... $ac_c" 1>&6
! echo "configure:5126: checking for u_intXX_t types in sys/socket.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5128 "configure"
  #include "confdefs.h"
   #include <sys/socket.h> 
  int main() {
   u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5135: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
***************
*** 5100,5119 ****
  fi
  
  echo $ac_n "checking for u_int64_t types""... $ac_c" 1>&6
! echo "configure:5104: checking for u_int64_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5110 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5117: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int64_t="yes" 
  else
--- 5151,5170 ----
  fi
  
  echo $ac_n "checking for u_int64_t types""... $ac_c" 1>&6
! echo "configure:5155: checking for u_int64_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5161 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5168: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int64_t="yes" 
  else
***************
*** 5138,5150 ****
  
  if test -z "$have_u_intxx_t" ; then
  	echo $ac_n "checking for uintXX_t types""... $ac_c" 1>&6
! echo "configure:5142: checking for uintXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_uintxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5148 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5189,5201 ----
  
  if test -z "$have_u_intxx_t" ; then
  	echo $ac_n "checking for uintXX_t types""... $ac_c" 1>&6
! echo "configure:5193: checking for uintXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_uintxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5199 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5153,5159 ****
   uint8_t a; uint16_t b; uint32_t c; a = b = c = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:5157: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_uintxx_t="yes" 
  else
--- 5204,5210 ----
   uint8_t a; uint16_t b; uint32_t c; a = b = c = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:5208: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_uintxx_t="yes" 
  else
***************
*** 5178,5193 ****
  
  if test -z "$have_uintxx_t" ; then
      echo $ac_n "checking for uintXX_t types in stdint.h""... $ac_c" 1>&6
! echo "configure:5182: checking for uintXX_t types in stdint.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5184 "configure"
  #include "confdefs.h"
   #include <stdint.h> 
  int main() {
   uint8_t a; uint16_t b; uint32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5191: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
--- 5229,5244 ----
  
  if test -z "$have_uintxx_t" ; then
      echo $ac_n "checking for uintXX_t types in stdint.h""... $ac_c" 1>&6
! echo "configure:5233: checking for uintXX_t types in stdint.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5235 "configure"
  #include "confdefs.h"
   #include <stdint.h> 
  int main() {
   uint8_t a; uint16_t b; uint32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5242: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
***************
*** 5210,5218 ****
             test "x$ac_cv_header_sys_bitypes_h" = "xyes")
  then
  	echo $ac_n "checking for intXX_t and u_intXX_t types in sys/bitypes.h""... $ac_c" 1>&6
! echo "configure:5214: checking for intXX_t and u_intXX_t types in sys/bitypes.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5216 "configure"
  #include "confdefs.h"
  
  #include <sys/bitypes.h>
--- 5261,5269 ----
             test "x$ac_cv_header_sys_bitypes_h" = "xyes")
  then
  	echo $ac_n "checking for intXX_t and u_intXX_t types in sys/bitypes.h""... $ac_c" 1>&6
! echo "configure:5265: checking for intXX_t and u_intXX_t types in sys/bitypes.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5267 "configure"
  #include "confdefs.h"
  
  #include <sys/bitypes.h>
***************
*** 5225,5231 ****
  		
  ; return 0; }
  EOF
! if { (eval echo configure:5229: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
--- 5276,5282 ----
  		
  ; return 0; }
  EOF
! if { (eval echo configure:5280: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
***************
*** 5250,5262 ****
  
  
  echo $ac_n "checking for u_char""... $ac_c" 1>&6
! echo "configure:5254: checking for u_char" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_char'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5260 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5301,5313 ----
  
  
  echo $ac_n "checking for u_char""... $ac_c" 1>&6
! echo "configure:5305: checking for u_char" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_char'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5311 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5265,5271 ****
   u_char foo; foo = 125; 
  ; return 0; }
  EOF
! if { (eval echo configure:5269: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_char="yes" 
  else
--- 5316,5322 ----
   u_char foo; foo = 125; 
  ; return 0; }
  EOF
! if { (eval echo configure:5320: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_char="yes" 
  else
***************
*** 5288,5300 ****
  fi
  
  echo $ac_n "checking for socklen_t""... $ac_c" 1>&6
! echo "configure:5292: checking for socklen_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_socklen_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5298 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5339,5351 ----
  fi
  
  echo $ac_n "checking for socklen_t""... $ac_c" 1>&6
! echo "configure:5343: checking for socklen_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_socklen_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5349 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5304,5310 ****
  socklen_t foo; foo = 1235;
  ; return 0; }
  EOF
! if { (eval echo configure:5308: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_socklen_t="yes" 
  else
--- 5355,5361 ----
  socklen_t foo; foo = 1235;
  ; return 0; }
  EOF
! if { (eval echo configure:5359: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_socklen_t="yes" 
  else
***************
*** 5327,5339 ****
  fi
  
  echo $ac_n "checking for size_t""... $ac_c" 1>&6
! echo "configure:5331: checking for size_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_size_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5337 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5378,5390 ----
  fi
  
  echo $ac_n "checking for size_t""... $ac_c" 1>&6
! echo "configure:5382: checking for size_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_size_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5388 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5342,5348 ****
   size_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5346: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_size_t="yes" 
  else
--- 5393,5399 ----
   size_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5397: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_size_t="yes" 
  else
***************
*** 5365,5377 ****
  fi
  
  echo $ac_n "checking for ssize_t""... $ac_c" 1>&6
! echo "configure:5369: checking for ssize_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ssize_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5375 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5416,5428 ----
  fi
  
  echo $ac_n "checking for ssize_t""... $ac_c" 1>&6
! echo "configure:5420: checking for ssize_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ssize_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5426 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5380,5386 ****
   ssize_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5384: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ssize_t="yes" 
  else
--- 5431,5437 ----
   ssize_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5435: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ssize_t="yes" 
  else
***************
*** 5403,5415 ****
  fi
  
  echo $ac_n "checking for clock_t""... $ac_c" 1>&6
! echo "configure:5407: checking for clock_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_clock_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5413 "configure"
  #include "confdefs.h"
  
  #include <time.h>
--- 5454,5466 ----
  fi
  
  echo $ac_n "checking for clock_t""... $ac_c" 1>&6
! echo "configure:5458: checking for clock_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_clock_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5464 "configure"
  #include "confdefs.h"
  
  #include <time.h>
***************
*** 5418,5424 ****
   clock_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5422: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_clock_t="yes" 
  else
--- 5469,5475 ----
   clock_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5473: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_clock_t="yes" 
  else
***************
*** 5441,5453 ****
  fi
  
  echo $ac_n "checking for sa_family_t""... $ac_c" 1>&6
! echo "configure:5445: checking for sa_family_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sa_family_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5451 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5492,5504 ----
  fi
  
  echo $ac_n "checking for sa_family_t""... $ac_c" 1>&6
! echo "configure:5496: checking for sa_family_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sa_family_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5502 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5457,5463 ****
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5461: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
--- 5508,5514 ----
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5512: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
***************
*** 5465,5471 ****
    cat conftest.$ac_ext >&5
    rm -rf conftest*
     cat > conftest.$ac_ext <<EOF
! #line 5469 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5516,5522 ----
    cat conftest.$ac_ext >&5
    rm -rf conftest*
     cat > conftest.$ac_ext <<EOF
! #line 5520 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5476,5482 ****
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5480: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
--- 5527,5533 ----
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5531: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
***************
*** 5502,5514 ****
  fi
  
  echo $ac_n "checking for pid_t""... $ac_c" 1>&6
! echo "configure:5506: checking for pid_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pid_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5512 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5553,5565 ----
  fi
  
  echo $ac_n "checking for pid_t""... $ac_c" 1>&6
! echo "configure:5557: checking for pid_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pid_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5563 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5517,5523 ****
   pid_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5521: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pid_t="yes" 
  else
--- 5568,5574 ----
   pid_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5572: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pid_t="yes" 
  else
***************
*** 5540,5552 ****
  fi
  
  echo $ac_n "checking for mode_t""... $ac_c" 1>&6
! echo "configure:5544: checking for mode_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_mode_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5550 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5591,5603 ----
  fi
  
  echo $ac_n "checking for mode_t""... $ac_c" 1>&6
! echo "configure:5595: checking for mode_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_mode_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5601 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5555,5561 ****
   mode_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5559: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_mode_t="yes" 
  else
--- 5606,5612 ----
   mode_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5610: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_mode_t="yes" 
  else
***************
*** 5579,5591 ****
  
  
  echo $ac_n "checking for struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:5583: checking for struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_storage'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5589 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5630,5642 ----
  
  
  echo $ac_n "checking for struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:5634: checking for struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_storage'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5640 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5595,5601 ****
   struct sockaddr_storage s; 
  ; return 0; }
  EOF
! if { (eval echo configure:5599: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_storage="yes" 
  else
--- 5646,5652 ----
   struct sockaddr_storage s; 
  ; return 0; }
  EOF
! if { (eval echo configure:5650: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_storage="yes" 
  else
***************
*** 5618,5630 ****
  fi
  
  echo $ac_n "checking for struct sockaddr_in6""... $ac_c" 1>&6
! echo "configure:5622: checking for struct sockaddr_in6" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_in6'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5628 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5669,5681 ----
  fi
  
  echo $ac_n "checking for struct sockaddr_in6""... $ac_c" 1>&6
! echo "configure:5673: checking for struct sockaddr_in6" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_in6'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5679 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5634,5640 ****
   struct sockaddr_in6 s; s.sin6_family = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5638: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_in6="yes" 
  else
--- 5685,5691 ----
   struct sockaddr_in6 s; s.sin6_family = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5689: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_in6="yes" 
  else
***************
*** 5657,5669 ****
  fi
  
  echo $ac_n "checking for struct in6_addr""... $ac_c" 1>&6
! echo "configure:5661: checking for struct in6_addr" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_in6_addr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5667 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5708,5720 ----
  fi
  
  echo $ac_n "checking for struct in6_addr""... $ac_c" 1>&6
! echo "configure:5712: checking for struct in6_addr" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_in6_addr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5718 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5673,5679 ****
   struct in6_addr s; s.s6_addr[0] = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5677: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_in6_addr="yes" 
  else
--- 5724,5730 ----
   struct in6_addr s; s.s6_addr[0] = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5728: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_in6_addr="yes" 
  else
***************
*** 5696,5708 ****
  fi
  
  echo $ac_n "checking for struct addrinfo""... $ac_c" 1>&6
! echo "configure:5700: checking for struct addrinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_addrinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5706 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5747,5759 ----
  fi
  
  echo $ac_n "checking for struct addrinfo""... $ac_c" 1>&6
! echo "configure:5751: checking for struct addrinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_addrinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5757 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5713,5719 ****
   struct addrinfo s; s.ai_flags = AI_PASSIVE; 
  ; return 0; }
  EOF
! if { (eval echo configure:5717: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_addrinfo="yes" 
  else
--- 5764,5770 ----
   struct addrinfo s; s.ai_flags = AI_PASSIVE; 
  ; return 0; }
  EOF
! if { (eval echo configure:5768: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_addrinfo="yes" 
  else
***************
*** 5736,5755 ****
  fi
  
  echo $ac_n "checking for struct timeval""... $ac_c" 1>&6
! echo "configure:5740: checking for struct timeval" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_timeval'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5746 "configure"
  #include "confdefs.h"
   #include <sys/time.h> 
  int main() {
   struct timeval tv; tv.tv_sec = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5753: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_timeval="yes" 
  else
--- 5787,5806 ----
  fi
  
  echo $ac_n "checking for struct timeval""... $ac_c" 1>&6
! echo "configure:5791: checking for struct timeval" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_timeval'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5797 "configure"
  #include "confdefs.h"
   #include <sys/time.h> 
  int main() {
   struct timeval tv; tv.tv_sec = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5804: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_timeval="yes" 
  else
***************
*** 5783,5789 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 5787 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
--- 5834,5840 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 5838 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
***************
*** 5810,5816 ****
  #endif
  		
  EOF
! if { (eval echo configure:5814: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     true 
  else
--- 5861,5867 ----
  #endif
  		
  EOF
! if { (eval echo configure:5865: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     true 
  else
***************
*** 5834,5846 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmp.h""... $ac_c" 1>&6
! echo "configure:5838: checking for ut_host field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5844 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 5885,5897 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmp.h""... $ac_c" 1>&6
! echo "configure:5889: checking for ut_host field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5895 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 5874,5886 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5878: checking for ut_host field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5884 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 5925,5937 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5929: checking for ut_host field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5935 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 5914,5926 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"syslen
  	echo $ac_n "checking for syslen field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5918: checking for syslen field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5924 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 5965,5977 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"syslen
  	echo $ac_n "checking for syslen field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5969: checking for syslen field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5975 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 5954,5966 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_pid
  	echo $ac_n "checking for ut_pid field in utmp.h""... $ac_c" 1>&6
! echo "configure:5958: checking for ut_pid field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5964 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6005,6017 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_pid
  	echo $ac_n "checking for ut_pid field in utmp.h""... $ac_c" 1>&6
! echo "configure:6009: checking for ut_pid field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6015 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 5994,6006 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmp.h""... $ac_c" 1>&6
! echo "configure:5998: checking for ut_type field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6004 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6045,6057 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmp.h""... $ac_c" 1>&6
! echo "configure:6049: checking for ut_type field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6055 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6034,6046 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6038: checking for ut_type field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6044 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6085,6097 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6089: checking for ut_type field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6095 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6074,6086 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmp.h""... $ac_c" 1>&6
! echo "configure:6078: checking for ut_tv field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6084 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6125,6137 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmp.h""... $ac_c" 1>&6
! echo "configure:6129: checking for ut_tv field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6135 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6114,6126 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmp.h""... $ac_c" 1>&6
! echo "configure:6118: checking for ut_id field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6124 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6165,6177 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmp.h""... $ac_c" 1>&6
! echo "configure:6169: checking for ut_id field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6175 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6154,6166 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6158: checking for ut_id field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6164 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6205,6217 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6209: checking for ut_id field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6215 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6194,6206 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmp.h""... $ac_c" 1>&6
! echo "configure:6198: checking for ut_addr field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6204 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6245,6257 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmp.h""... $ac_c" 1>&6
! echo "configure:6249: checking for ut_addr field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6255 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6234,6246 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6238: checking for ut_addr field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6244 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6285,6297 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6289: checking for ut_addr field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6295 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6274,6286 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmp.h""... $ac_c" 1>&6
! echo "configure:6278: checking for ut_addr_v6 field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6284 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6325,6337 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmp.h""... $ac_c" 1>&6
! echo "configure:6329: checking for ut_addr_v6 field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6335 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6314,6326 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6318: checking for ut_addr_v6 field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6324 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6365,6377 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6369: checking for ut_addr_v6 field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6375 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6354,6366 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_exit
  	echo $ac_n "checking for ut_exit field in utmp.h""... $ac_c" 1>&6
! echo "configure:6358: checking for ut_exit field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6364 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6405,6417 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_exit
  	echo $ac_n "checking for ut_exit field in utmp.h""... $ac_c" 1>&6
! echo "configure:6409: checking for ut_exit field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6415 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6394,6406 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmp.h""... $ac_c" 1>&6
! echo "configure:6398: checking for ut_time field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6404 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6445,6457 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmp.h""... $ac_c" 1>&6
! echo "configure:6449: checking for ut_time field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6455 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6434,6446 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6438: checking for ut_time field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6444 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6485,6497 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6489: checking for ut_time field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6495 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6474,6486 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6478: checking for ut_tv field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6484 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6525,6537 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6529: checking for ut_tv field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6535 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6510,6521 ****
  	fi
  
  echo $ac_n "checking for st_blksize in struct stat""... $ac_c" 1>&6
! echo "configure:6514: checking for st_blksize in struct stat" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 6519 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/stat.h>
--- 6561,6572 ----
  	fi
  
  echo $ac_n "checking for st_blksize in struct stat""... $ac_c" 1>&6
! echo "configure:6565: checking for st_blksize in struct stat" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 6570 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/stat.h>
***************
*** 6523,6529 ****
  struct stat s; s.st_blksize;
  ; return 0; }
  EOF
! if { (eval echo configure:6527: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_st_blksize=yes
  else
--- 6574,6580 ----
  struct stat s; s.st_blksize;
  ; return 0; }
  EOF
! if { (eval echo configure:6578: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_st_blksize=yes
  else
***************
*** 6545,6557 ****
  
  
  echo $ac_n "checking for ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6549: checking for ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6555 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 6596,6608 ----
  
  
  echo $ac_n "checking for ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6600: checking for ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6606 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 6561,6567 ****
   struct sockaddr_storage s; s.ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6565: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ss_family_in_struct_ss="yes" 
  else
--- 6612,6618 ----
   struct sockaddr_storage s; s.ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6616: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ss_family_in_struct_ss="yes" 
  else
***************
*** 6583,6595 ****
  fi
  
  echo $ac_n "checking for __ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6587: checking for __ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have___ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6593 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 6634,6646 ----
  fi
  
  echo $ac_n "checking for __ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6638: checking for __ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have___ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6644 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 6599,6605 ****
   struct sockaddr_storage s; s.__ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6603: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have___ss_family_in_struct_ss="yes" 
  else
--- 6650,6656 ----
   struct sockaddr_storage s; s.__ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6654: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have___ss_family_in_struct_ss="yes" 
  else
***************
*** 6622,6634 ****
  fi
  
  echo $ac_n "checking for pw_class field in struct passwd""... $ac_c" 1>&6
! echo "configure:6626: checking for pw_class field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_class_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6632 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
--- 6673,6685 ----
  fi
  
  echo $ac_n "checking for pw_class field in struct passwd""... $ac_c" 1>&6
! echo "configure:6677: checking for pw_class field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_class_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6683 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
***************
*** 6637,6643 ****
   struct passwd p; p.pw_class = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6641: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_class_in_struct_passwd="yes" 
  else
--- 6688,6694 ----
   struct passwd p; p.pw_class = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6692: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_class_in_struct_passwd="yes" 
  else
***************
*** 6660,6672 ****
  fi
  
  echo $ac_n "checking for pw_expire field in struct passwd""... $ac_c" 1>&6
! echo "configure:6664: checking for pw_expire field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_expire_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6670 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
--- 6711,6723 ----
  fi
  
  echo $ac_n "checking for pw_expire field in struct passwd""... $ac_c" 1>&6
! echo "configure:6715: checking for pw_expire field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_expire_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6721 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
***************
*** 6675,6681 ****
   struct passwd p; p.pw_expire = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6679: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_expire_in_struct_passwd="yes" 
  else
--- 6726,6732 ----
   struct passwd p; p.pw_expire = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6730: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_expire_in_struct_passwd="yes" 
  else
***************
*** 6698,6710 ****
  fi
  
  echo $ac_n "checking for pw_change field in struct passwd""... $ac_c" 1>&6
! echo "configure:6702: checking for pw_change field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_change_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6708 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
--- 6749,6761 ----
  fi
  
  echo $ac_n "checking for pw_change field in struct passwd""... $ac_c" 1>&6
! echo "configure:6753: checking for pw_change field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_change_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6759 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
***************
*** 6713,6719 ****
   struct passwd p; p.pw_change = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6717: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_change_in_struct_passwd="yes" 
  else
--- 6764,6770 ----
   struct passwd p; p.pw_change = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6768: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_change_in_struct_passwd="yes" 
  else
***************
*** 6736,6755 ****
  fi
  
  echo $ac_n "checking if libc defines __progname""... $ac_c" 1>&6
! echo "configure:6740: checking if libc defines __progname" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines___progname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6746 "configure"
  #include "confdefs.h"
  
  int main() {
   extern char *__progname; printf("%s", __progname); 
  ; return 0; }
  EOF
! if { (eval echo configure:6753: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines___progname="yes" 
  else
--- 6787,6806 ----
  fi
  
  echo $ac_n "checking if libc defines __progname""... $ac_c" 1>&6
! echo "configure:6791: checking if libc defines __progname" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines___progname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6797 "configure"
  #include "confdefs.h"
  
  int main() {
   extern char *__progname; printf("%s", __progname); 
  ; return 0; }
  EOF
! if { (eval echo configure:6804: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines___progname="yes" 
  else
***************
*** 6772,6784 ****
  fi
  
  echo $ac_n "checking whether getopt has optreset support""... $ac_c" 1>&6
! echo "configure:6776: checking whether getopt has optreset support" >&5
  if eval "test \"`echo '$''{'ac_cv_have_getopt_optreset'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6782 "configure"
  #include "confdefs.h"
  
  #include <getopt.h>
--- 6823,6835 ----
  fi
  
  echo $ac_n "checking whether getopt has optreset support""... $ac_c" 1>&6
! echo "configure:6827: checking whether getopt has optreset support" >&5
  if eval "test \"`echo '$''{'ac_cv_have_getopt_optreset'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6833 "configure"
  #include "confdefs.h"
  
  #include <getopt.h>
***************
*** 6787,6793 ****
   extern int optreset; optreset = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6791: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_have_getopt_optreset="yes" 
  else
--- 6838,6844 ----
   extern int optreset; optreset = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6842: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_have_getopt_optreset="yes" 
  else
***************
*** 6810,6829 ****
  fi
  
  echo $ac_n "checking if libc defines sys_errlist""... $ac_c" 1>&6
! echo "configure:6814: checking if libc defines sys_errlist" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_errlist'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6820 "configure"
  #include "confdefs.h"
  
  int main() {
   extern const char *const sys_errlist[]; printf("%s", sys_errlist[0]);
  ; return 0; }
  EOF
! if { (eval echo configure:6827: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_errlist="yes" 
  else
--- 6861,6880 ----
  fi
  
  echo $ac_n "checking if libc defines sys_errlist""... $ac_c" 1>&6
! echo "configure:6865: checking if libc defines sys_errlist" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_errlist'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6871 "configure"
  #include "confdefs.h"
  
  int main() {
   extern const char *const sys_errlist[]; printf("%s", sys_errlist[0]);
  ; return 0; }
  EOF
! if { (eval echo configure:6878: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_errlist="yes" 
  else
***************
*** 6847,6866 ****
  
  
  echo $ac_n "checking if libc defines sys_nerr""... $ac_c" 1>&6
! echo "configure:6851: checking if libc defines sys_nerr" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_nerr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6857 "configure"
  #include "confdefs.h"
  
  int main() {
   extern int sys_nerr; printf("%i", sys_nerr);
  ; return 0; }
  EOF
! if { (eval echo configure:6864: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_nerr="yes" 
  else
--- 6898,6917 ----
  
  
  echo $ac_n "checking if libc defines sys_nerr""... $ac_c" 1>&6
! echo "configure:6902: checking if libc defines sys_nerr" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_nerr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6908 "configure"
  #include "confdefs.h"
  
  int main() {
   extern int sys_nerr; printf("%i", sys_nerr);
  ; return 0; }
  EOF
! if { (eval echo configure:6915: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_nerr="yes" 
  else
***************
*** 6904,6920 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:6908: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 6913 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:6918: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 6955,6971 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:6959: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 6964 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:6969: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 6944,6950 ****
  				{ echo "configure: error: Can't find sectok.h" 1>&2; exit 1; }
  			fi
  			echo $ac_n "checking for sectok_open in -lsectok""... $ac_c" 1>&6
! echo "configure:6948: checking for sectok_open in -lsectok" >&5
  ac_lib_var=`echo sectok'_'sectok_open | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 6995,7001 ----
  				{ echo "configure: error: Can't find sectok.h" 1>&2; exit 1; }
  			fi
  			echo $ac_n "checking for sectok_open in -lsectok""... $ac_c" 1>&6
! echo "configure:6999: checking for sectok_open in -lsectok" >&5
  ac_lib_var=`echo sectok'_'sectok_open | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 6952,6958 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lsectok  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 6956 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 7003,7009 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lsectok  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7007 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 6963,6969 ****
  sectok_open()
  ; return 0; }
  EOF
! if { (eval echo configure:6967: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 7014,7020 ----
  sectok_open()
  ; return 0; }
  EOF
! if { (eval echo configure:7018: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 7030,7046 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:7034: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 7039 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:7044: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 7081,7097 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:7085: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 7090 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:7095: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 7070,7076 ****
  				echo "configure: warning: Cannot find krb.h, build may fail" 1>&2
  			fi
  			echo $ac_n "checking for main in -lkrb""... $ac_c" 1>&6
! echo "configure:7074: checking for main in -lkrb" >&5
  ac_lib_var=`echo krb'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 7121,7127 ----
  				echo "configure: warning: Cannot find krb.h, build may fail" 1>&2
  			fi
  			echo $ac_n "checking for main in -lkrb""... $ac_c" 1>&6
! echo "configure:7125: checking for main in -lkrb" >&5
  ac_lib_var=`echo krb'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 7078,7091 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lkrb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7082 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:7089: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 7129,7142 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lkrb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7133 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:7140: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 7114,7120 ****
  
  			if test "$ac_cv_lib_krb_main" != yes; then
  				echo $ac_n "checking for main in -lkrb4""... $ac_c" 1>&6
! echo "configure:7118: checking for main in -lkrb4" >&5
  ac_lib_var=`echo krb4'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 7165,7171 ----
  
  			if test "$ac_cv_lib_krb_main" != yes; then
  				echo $ac_n "checking for main in -lkrb4""... $ac_c" 1>&6
! echo "configure:7169: checking for main in -lkrb4" >&5
  ac_lib_var=`echo krb4'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 7122,7135 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lkrb4  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7126 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:7133: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 7173,7186 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lkrb4  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7177 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:7184: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 7165,7171 ****
  				KLIBS="-lkrb"
  			fi
  			echo $ac_n "checking for des_cbc_encrypt in -ldes""... $ac_c" 1>&6
! echo "configure:7169: checking for des_cbc_encrypt in -ldes" >&5
  ac_lib_var=`echo des'_'des_cbc_encrypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 7216,7222 ----
  				KLIBS="-lkrb"
  			fi
  			echo $ac_n "checking for des_cbc_encrypt in -ldes""... $ac_c" 1>&6
! echo "configure:7220: checking for des_cbc_encrypt in -ldes" >&5
  ac_lib_var=`echo des'_'des_cbc_encrypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 7173,7179 ****
    ac_save_LIBS="$LIBS"
  LIBS="-ldes  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7177 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 7224,7230 ----
    ac_save_LIBS="$LIBS"
  LIBS="-ldes  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7228 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 7184,7190 ****
  des_cbc_encrypt()
  ; return 0; }
  EOF
! if { (eval echo configure:7188: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 7235,7241 ----
  des_cbc_encrypt()
  ; return 0; }
  EOF
! if { (eval echo configure:7239: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 7213,7219 ****
  
  			if test "$ac_cv_lib_des_des_cbc_encrypt" != yes; then
  				echo $ac_n "checking for des_cbc_encrypt in -ldes425""... $ac_c" 1>&6
! echo "configure:7217: checking for des_cbc_encrypt in -ldes425" >&5
  ac_lib_var=`echo des425'_'des_cbc_encrypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 7264,7270 ----
  
  			if test "$ac_cv_lib_des_des_cbc_encrypt" != yes; then
  				echo $ac_n "checking for des_cbc_encrypt in -ldes425""... $ac_c" 1>&6
! echo "configure:7268: checking for des_cbc_encrypt in -ldes425" >&5
  ac_lib_var=`echo des425'_'des_cbc_encrypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 7221,7227 ****
    ac_save_LIBS="$LIBS"
  LIBS="-ldes425  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7225 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 7272,7278 ----
    ac_save_LIBS="$LIBS"
  LIBS="-ldes425  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7276 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 7232,7238 ****
  des_cbc_encrypt()
  ; return 0; }
  EOF
! if { (eval echo configure:7236: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 7283,7289 ----
  des_cbc_encrypt()
  ; return 0; }
  EOF
! if { (eval echo configure:7287: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 7268,7274 ****
  				KLIBS="-ldes"
  			fi
  			echo $ac_n "checking for dn_expand in -lresolv""... $ac_c" 1>&6
! echo "configure:7272: checking for dn_expand in -lresolv" >&5
  ac_lib_var=`echo resolv'_'dn_expand | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 7319,7325 ----
  				KLIBS="-ldes"
  			fi
  			echo $ac_n "checking for dn_expand in -lresolv""... $ac_c" 1>&6
! echo "configure:7323: checking for dn_expand in -lresolv" >&5
  ac_lib_var=`echo resolv'_'dn_expand | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 7276,7282 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7280 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 7327,7333 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 7331 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 7287,7293 ****
  dn_expand()
  ; return 0; }
  EOF
! if { (eval echo configure:7291: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 7338,7344 ----
  dn_expand()
  ; return 0; }
  EOF
! if { (eval echo configure:7342: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 7373,7379 ****
  		# Extract the first word of "rsh", so it can be a program name with args.
  set dummy rsh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7377: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_rsh_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7424,7430 ----
  		# Extract the first word of "rsh", so it can be a program name with args.
  set dummy rsh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7428: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_rsh_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7423,7429 ****
  		# Extract the first word of "xauth", so it can be a program name with args.
  set dummy xauth; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7427: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_xauth_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7474,7480 ----
  		# Extract the first word of "xauth", so it can be a program name with args.
  set dummy xauth; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7478: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_xauth_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7494,7500 ****
  	
  ac_safe=`echo ""/dev/ptmx"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptmx"""... $ac_c" 1>&6
! echo "configure:7498: checking for "/dev/ptmx"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7545,7551 ----
  	
  ac_safe=`echo ""/dev/ptmx"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptmx"""... $ac_c" 1>&6
! echo "configure:7549: checking for "/dev/ptmx"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7527,7533 ****
  
  ac_safe=`echo ""/dev/ptc"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptc"""... $ac_c" 1>&6
! echo "configure:7531: checking for "/dev/ptc"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7578,7584 ----
  
  ac_safe=`echo ""/dev/ptc"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptc"""... $ac_c" 1>&6
! echo "configure:7582: checking for "/dev/ptc"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7578,7584 ****
  		
  ac_safe=`echo ""/dev/urandom"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/urandom"""... $ac_c" 1>&6
! echo "configure:7582: checking for "/dev/urandom"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7629,7635 ----
  		
  ac_safe=`echo ""/dev/urandom"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/urandom"""... $ac_c" 1>&6
! echo "configure:7633: checking for "/dev/urandom"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7648,7654 ****
  		# Check for existing socket only if we don't have a random device already
  		if test -z "$RANDOM_POOL" ; then
  			echo $ac_n "checking for PRNGD/EGD socket""... $ac_c" 1>&6
! echo "configure:7652: checking for PRNGD/EGD socket" >&5
  			# Insert other locations here
  			for sock in /var/run/egd-pool /dev/egd-pool /etc/entropy; do
  				if test -r $sock && $TEST_MINUS_S_SH -c "test -S $sock -o -p $sock" ; then
--- 7699,7705 ----
  		# Check for existing socket only if we don't have a random device already
  		if test -z "$RANDOM_POOL" ; then
  			echo $ac_n "checking for PRNGD/EGD socket""... $ac_c" 1>&6
! echo "configure:7703: checking for PRNGD/EGD socket" >&5
  			# Insert other locations here
  			for sock in /var/run/egd-pool /dev/egd-pool /etc/entropy; do
  				if test -r $sock && $TEST_MINUS_S_SH -c "test -S $sock -o -p $sock" ; then
***************
*** 7681,7687 ****
  	# Extract the first word of "ls", so it can be a program name with args.
  set dummy ls; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7685: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7732,7738 ----
  	# Extract the first word of "ls", so it can be a program name with args.
  set dummy ls; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7736: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7722,7728 ****
  	# Extract the first word of "netstat", so it can be a program name with args.
  set dummy netstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7726: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_NETSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7773,7779 ----
  	# Extract the first word of "netstat", so it can be a program name with args.
  set dummy netstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7777: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_NETSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7763,7769 ****
  	# Extract the first word of "arp", so it can be a program name with args.
  set dummy arp; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7767: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_ARP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7814,7820 ----
  	# Extract the first word of "arp", so it can be a program name with args.
  set dummy arp; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7818: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_ARP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7804,7810 ****
  	# Extract the first word of "ifconfig", so it can be a program name with args.
  set dummy ifconfig; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7808: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IFCONFIG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7855,7861 ----
  	# Extract the first word of "ifconfig", so it can be a program name with args.
  set dummy ifconfig; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7859: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IFCONFIG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7845,7851 ****
  	# Extract the first word of "jstat", so it can be a program name with args.
  set dummy jstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7849: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_JSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7896,7902 ----
  	# Extract the first word of "jstat", so it can be a program name with args.
  set dummy jstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7900: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_JSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7886,7892 ****
  	# Extract the first word of "ps", so it can be a program name with args.
  set dummy ps; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7890: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_PS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7937,7943 ----
  	# Extract the first word of "ps", so it can be a program name with args.
  set dummy ps; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7941: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_PS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7927,7933 ****
  	# Extract the first word of "sar", so it can be a program name with args.
  set dummy sar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7931: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_SAR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7978,7984 ----
  	# Extract the first word of "sar", so it can be a program name with args.
  set dummy sar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7982: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_SAR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7968,7974 ****
  	# Extract the first word of "w", so it can be a program name with args.
  set dummy w; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7972: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_W'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8019,8025 ----
  	# Extract the first word of "w", so it can be a program name with args.
  set dummy w; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8023: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_W'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8009,8015 ****
  	# Extract the first word of "who", so it can be a program name with args.
  set dummy who; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8013: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_WHO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8060,8066 ----
  	# Extract the first word of "who", so it can be a program name with args.
  set dummy who; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8064: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_WHO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8050,8056 ****
  	# Extract the first word of "last", so it can be a program name with args.
  set dummy last; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8054: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LAST'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8101,8107 ----
  	# Extract the first word of "last", so it can be a program name with args.
  set dummy last; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8105: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LAST'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8091,8097 ****
  	# Extract the first word of "lastlog", so it can be a program name with args.
  set dummy lastlog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8095: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LASTLOG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8142,8148 ----
  	# Extract the first word of "lastlog", so it can be a program name with args.
  set dummy lastlog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8146: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LASTLOG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8132,8138 ****
  	# Extract the first word of "df", so it can be a program name with args.
  set dummy df; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8136: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_DF'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8183,8189 ----
  	# Extract the first word of "df", so it can be a program name with args.
  set dummy df; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8187: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_DF'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8173,8179 ****
  	# Extract the first word of "vmstat", so it can be a program name with args.
  set dummy vmstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8177: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_VMSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8224,8230 ----
  	# Extract the first word of "vmstat", so it can be a program name with args.
  set dummy vmstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8228: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_VMSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8214,8220 ****
  	# Extract the first word of "uptime", so it can be a program name with args.
  set dummy uptime; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8218: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_UPTIME'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8265,8271 ----
  	# Extract the first word of "uptime", so it can be a program name with args.
  set dummy uptime; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8269: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_UPTIME'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8255,8261 ****
  	# Extract the first word of "ipcs", so it can be a program name with args.
  set dummy ipcs; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8259: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IPCS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8306,8312 ----
  	# Extract the first word of "ipcs", so it can be a program name with args.
  set dummy ipcs; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8310: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IPCS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8296,8302 ****
  	# Extract the first word of "tail", so it can be a program name with args.
  set dummy tail; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8300: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_TAIL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8347,8353 ----
  	# Extract the first word of "tail", so it can be a program name with args.
  set dummy tail; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8351: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_TAIL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8361,8367 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8365: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_NROFF'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8412,8418 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:8416: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_NROFF'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8450,8458 ****
  
  if test -z "$disable_shadow" ; then
  	echo $ac_n "checking if the systems has expire shadow information""... $ac_c" 1>&6
! echo "configure:8454: checking if the systems has expire shadow information" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 8456 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8501,8509 ----
  
  if test -z "$disable_shadow" ; then
  	echo $ac_n "checking if the systems has expire shadow information""... $ac_c" 1>&6
! echo "configure:8505: checking if the systems has expire shadow information" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 8507 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8463,8469 ****
   sp.sp_expire = sp.sp_lstchg = sp.sp_inact = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:8467: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     sp_expire_available=yes 
  else
--- 8514,8520 ----
   sp.sp_expire = sp.sp_lstchg = sp.sp_inact = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:8518: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     sp_expire_available=yes 
  else
***************
*** 8530,8536 ****
  	
  else
    cat > conftest.$ac_ext <<EOF
! #line 8534 "configure"
  #include "confdefs.h"
  
  /* find out what STDPATH is */
--- 8581,8587 ----
  	
  else
    cat > conftest.$ac_ext <<EOF
! #line 8585 "configure"
  #include "confdefs.h"
  
  /* find out what STDPATH is */
***************
*** 8562,8568 ****
  }
  		
  EOF
! if { (eval echo configure:8566: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     user_path=`cat conftest.stdpath` 
  else
--- 8613,8619 ----
  }
  		
  EOF
! if { (eval echo configure:8617: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     user_path=`cat conftest.stdpath` 
  else
***************
*** 8619,8625 ****
  
  
  echo $ac_n "checking if we need to convert IPv4 in IPv6-mapped addresses""... $ac_c" 1>&6
! echo "configure:8623: checking if we need to convert IPv4 in IPv6-mapped addresses" >&5
  IPV4_IN6_HACK_MSG="no" 
  # Check whether --with-4in6 or --without-4in6 was given.
  if test "${with_4in6+set}" = set; then
--- 8670,8676 ----
  
  
  echo $ac_n "checking if we need to convert IPv4 in IPv6-mapped addresses""... $ac_c" 1>&6
! echo "configure:8674: checking if we need to convert IPv4 in IPv6-mapped addresses" >&5
  IPV4_IN6_HACK_MSG="no" 
  # Check whether --with-4in6 or --without-4in6 was given.
  if test "${with_4in6+set}" = set; then
***************
*** 8671,8677 ****
  
  
  echo $ac_n "checking whether to install ssh as suid root""... $ac_c" 1>&6
! echo "configure:8675: checking whether to install ssh as suid root" >&5
  # Check whether --enable-suid-ssh or --disable-suid-ssh was given.
  if test "${enable_suid_ssh+set}" = set; then
    enableval="$enable_suid_ssh"
--- 8722,8728 ----
  
  
  echo $ac_n "checking whether to install ssh as suid root""... $ac_c" 1>&6
! echo "configure:8726: checking whether to install ssh as suid root" >&5
  # Check whether --enable-suid-ssh or --disable-suid-ssh was given.
  if test "${enable_suid_ssh+set}" = set; then
    enableval="$enable_suid_ssh"
***************
*** 8820,8828 ****
  
  
  echo $ac_n "checking if your system defines LASTLOG_FILE""... $ac_c" 1>&6
! echo "configure:8824: checking if your system defines LASTLOG_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8826 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8871,8879 ----
  
  
  echo $ac_n "checking if your system defines LASTLOG_FILE""... $ac_c" 1>&6
! echo "configure:8875: checking if your system defines LASTLOG_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8877 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8841,8847 ****
   char *lastlog = LASTLOG_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8845: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8892,8898 ----
   char *lastlog = LASTLOG_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8896: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8851,8859 ****
    
  		echo "$ac_t""no" 1>&6
  		echo $ac_n "checking if your system defines _PATH_LASTLOG""... $ac_c" 1>&6
! echo "configure:8855: checking if your system defines _PATH_LASTLOG" >&5
  		cat > conftest.$ac_ext <<EOF
! #line 8857 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8902,8910 ----
    
  		echo "$ac_t""no" 1>&6
  		echo $ac_n "checking if your system defines _PATH_LASTLOG""... $ac_c" 1>&6
! echo "configure:8906: checking if your system defines _PATH_LASTLOG" >&5
  		cat > conftest.$ac_ext <<EOF
! #line 8908 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8869,8875 ****
   char *lastlog = _PATH_LASTLOG; 
  ; return 0; }
  EOF
! if { (eval echo configure:8873: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8920,8926 ----
   char *lastlog = _PATH_LASTLOG; 
  ; return 0; }
  EOF
! if { (eval echo configure:8924: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8908,8916 ****
  fi	
  
  echo $ac_n "checking if your system defines UTMP_FILE""... $ac_c" 1>&6
! echo "configure:8912: checking if your system defines UTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8914 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8959,8967 ----
  fi	
  
  echo $ac_n "checking if your system defines UTMP_FILE""... $ac_c" 1>&6
! echo "configure:8963: checking if your system defines UTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8965 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8923,8929 ****
   char *utmp = UTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8927: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8974,8980 ----
   char *utmp = UTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8978: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8958,8966 ****
  fi	
  
  echo $ac_n "checking if your system defines WTMP_FILE""... $ac_c" 1>&6
! echo "configure:8962: checking if your system defines WTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8964 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 9009,9017 ----
  fi	
  
  echo $ac_n "checking if your system defines WTMP_FILE""... $ac_c" 1>&6
! echo "configure:9013: checking if your system defines WTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 9015 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8973,8979 ****
   char *wtmp = WTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8977: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 9024,9030 ----
   char *wtmp = WTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:9028: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 9009,9017 ****
  
  
  echo $ac_n "checking if your system defines UTMPX_FILE""... $ac_c" 1>&6
! echo "configure:9013: checking if your system defines UTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 9015 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 9060,9068 ----
  
  
  echo $ac_n "checking if your system defines UTMPX_FILE""... $ac_c" 1>&6
! echo "configure:9064: checking if your system defines UTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 9066 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 9027,9033 ****
   char *utmpx = UTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:9031: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 9078,9084 ----
   char *utmpx = UTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:9082: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 9054,9062 ****
  fi	
  
  echo $ac_n "checking if your system defines WTMPX_FILE""... $ac_c" 1>&6
! echo "configure:9058: checking if your system defines WTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 9060 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 9105,9113 ----
  fi	
  
  echo $ac_n "checking if your system defines WTMPX_FILE""... $ac_c" 1>&6
! echo "configure:9109: checking if your system defines WTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 9111 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 9072,9078 ****
   char *wtmpx = WTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:9076: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 9123,9129 ----
   char *wtmpx = WTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:9127: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 9124,9135 ****
  fi
  
  echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
! echo "configure:9128: checking for Cygwin environment" >&5
  if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 9133 "configure"
  #include "confdefs.h"
  
  int main() {
--- 9175,9186 ----
  fi
  
  echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
! echo "configure:9179: checking for Cygwin environment" >&5
  if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 9184 "configure"
  #include "confdefs.h"
  
  int main() {
***************
*** 9140,9146 ****
  return __CYGWIN__;
  ; return 0; }
  EOF
! if { (eval echo configure:9144: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_cygwin=yes
  else
--- 9191,9197 ----
  return __CYGWIN__;
  ; return 0; }
  EOF
! if { (eval echo configure:9195: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_cygwin=yes
  else
***************
*** 9157,9175 ****
  CYGWIN=
  test "$ac_cv_cygwin" = yes && CYGWIN=yes
  echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
! echo "configure:9161: checking for mingw32 environment" >&5
  if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 9166 "configure"
  #include "confdefs.h"
  
  int main() {
  return __MINGW32__;
  ; return 0; }
  EOF
! if { (eval echo configure:9173: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_mingw32=yes
  else
--- 9208,9226 ----
  CYGWIN=
  test "$ac_cv_cygwin" = yes && CYGWIN=yes
  echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
! echo "configure:9212: checking for mingw32 environment" >&5
  if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 9217 "configure"
  #include "confdefs.h"
  
  int main() {
  return __MINGW32__;
  ; return 0; }
  EOF
! if { (eval echo configure:9224: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_mingw32=yes
  else
***************
*** 9188,9194 ****
  
  
  echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
! echo "configure:9192: checking for executable suffix" >&5
  if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 9239,9245 ----
  
  
  echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
! echo "configure:9243: checking for executable suffix" >&5
  if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 9198,9204 ****
    rm -f conftest*
    echo 'int main () { return 0; }' > conftest.$ac_ext
    ac_cv_exeext=
!   if { (eval echo configure:9202: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
      for file in conftest.*; do
        case $file in
        *.c | *.o | *.obj) ;;
--- 9249,9255 ----
    rm -f conftest*
    echo 'int main () { return 0; }' > conftest.$ac_ext
    ac_cv_exeext=
!   if { (eval echo configure:9253: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
      for file in conftest.*; do
        case $file in
        *.c | *.o | *.obj) ;;
***************
*** 9660,9665 ****
--- 9711,9717 ----
  echo "             Smartcard support: $SCARD_MSG"
  echo "                   AFS support: $AFS_MSG"
  echo "                 S/KEY support: $SKEY_MSG"
+ echo "               SecurID support: $SECURID_MSG"
  echo "          TCP Wrappers support: $TCPW_MSG"
  echo "          MD5 password support: $MD5_MSG"
  echo "   IP address in \$DISPLAY hack: $DISPLAY_HACK_MSG"
diff -cN openssh-2.9.9p2/configure.in openssh-2.9.9p2-securid/configure.in
*** openssh-2.9.9p2/configure.in	Tue Sep 25 18:39:38 2001
--- openssh-2.9.9p2-securid/configure.in	Sun Sep 30 22:19:47 2001
***************
*** 451,456 ****
--- 451,485 ----
  		fi
  	]
  )
+ SECURID_MSG="no"
+ AC_ARG_WITH(securid,
+ 	[  --with-securid          Enable SecurID support],
+ 	[
+ 		if test "x$withval" != "xno" ; then
+ 			saved_LIBS="$LIBS"
+ 			LIBS="$LIBS sdiclient.a"
+ 			AC_MSG_CHECKING(for sdiclient.a)
+ 			AC_TRY_LINK(
+ 				[
+ #include "sdi_athd.h"
+ #include "sdconf.h"
+ #include "sdacmvls.h"
+ 					struct SD_CLIENT sd_dat, *sd;
+ 					union config_record configure;
+ 				],
+ 				[sd = &sd_dat; creadcfg(); sd_init(sd);],
+ 				[
+ 					AC_MSG_RESULT(yes)
+ 					AC_DEFINE(SECURID)
+ 					SECURID_MSG="yes" 
+ 				],
+ 				[
+ 					AC_MSG_ERROR([*** sdiclient.a missing])
+ 				]
+ 			)
+ 		fi
+ 	]
+ )
  
  # Check whether user wants TCP wrappers support
  TCPW_MSG="no" 
***************
*** 2089,2094 ****
--- 2118,2124 ----
  echo "             Smartcard support: $SCARD_MSG"
  echo "                   AFS support: $AFS_MSG"
  echo "                 S/KEY support: $SKEY_MSG"
+ echo "               SecurID support: $SECURID_MSG"
  echo "          TCP Wrappers support: $TCPW_MSG"
  echo "          MD5 password support: $MD5_MSG"
  echo "   IP address in \$DISPLAY hack: $DISPLAY_HACK_MSG"
Common subdirectories: openssh-2.9.9p2/contrib and openssh-2.9.9p2-securid/contrib
Common subdirectories: openssh-2.9.9p2/openbsd-compat and openssh-2.9.9p2-securid/openbsd-compat
diff -cN openssh-2.9.9p2/readconf.c openssh-2.9.9p2-securid/readconf.c
*** openssh-2.9.9p2/readconf.c	Wed Sep 19 20:57:56 2001
--- openssh-2.9.9p2-securid/readconf.c	Sun Sep 30 22:34:57 2001
***************
*** 95,100 ****
--- 95,102 ----
  	oBadOption,
  	oForwardAgent, oForwardX11, oGatewayPorts, oRhostsAuthentication,
  	oPasswordAuthentication, oRSAAuthentication, oFallBackToRsh, oUseRsh,
+ 	oSecurIDAuthentication, oSecurIDFallBack,
+ 	oAllowNonSecurID, oSecurIDUsersFile, oSecurIDIgnoreShell,
  	oChallengeResponseAuthentication, oXAuthLocation,
  #if defined(KRB4) || defined(KRB5)
  	oKerberosAuthentication,
***************
*** 130,135 ****
--- 132,142 ----
  	{ "gatewayports", oGatewayPorts },
  	{ "useprivilegedport", oUsePrivilegedPort },
  	{ "rhostsauthentication", oRhostsAuthentication },
+ 	{ "securidauthentication", oSecurIDAuthentication },
+ 	{ "securidfallback", oSecurIDFallBack },
+ 	{ "allownonsecurid", oAllowNonSecurID },
+ 	{ "securidusersfile", oSecurIDUsersFile },
+ 	{ "securidignoreshell", oSecurIDIgnoreShell },
  	{ "passwordauthentication", oPasswordAuthentication },
  	{ "kbdinteractiveauthentication", oKbdInteractiveAuthentication },
  	{ "kbdinteractivedevices", oKbdInteractiveDevices },
***************
*** 345,350 ****
--- 352,372 ----
  	case oRSAAuthentication:
  		intptr = &options->rsa_authentication;
  		goto parse_flag;
+ 	case oSecurIDAuthentication:
+ 		intptr = &options->securid_authentication;
+ 		goto parse_flag;
+ 	case oSecurIDFallBack:
+ 		intptr = &options->securid_fallback;
+ 		goto parse_flag;
+ 	case oAllowNonSecurID:
+ 		intptr = &options->allow_nonsecurid;
+ 		goto parse_flag;
+ 	case oSecurIDUsersFile:
+ 		charptr=&options->securid_usersfile;
+ 		goto parse_string;
+ 	case oSecurIDIgnoreShell:
+ 		intptr = &options->securid_ignore_shell;
+ 		goto parse_flag;
  
  	case oRhostsRSAAuthentication:
  		intptr = &options->rhosts_rsa_authentication;
***************
*** 746,751 ****
--- 768,778 ----
  	options->rsa_authentication = -1;
  	options->pubkey_authentication = -1;
  	options->challenge_response_authentication = -1;
+ 	options->securid_authentication = -1;
+ 	options->securid_fallback = -1;
+ 	options->allow_nonsecurid = -1;
+ 	options->securid_usersfile = NULL;
+ 	options->securid_ignore_shell = -1;
  #if defined(KRB4) || defined(KRB5)
  	options->kerberos_authentication = -1;
  #endif
***************
*** 805,810 ****
--- 832,845 ----
  {
  	int len;
  
+ 	if (options->securid_authentication == -1)
+ 		options->securid_authentication = 1;
+ 	if (options->securid_fallback == -1)
+ 		options->securid_fallback = 0;
+ 	if (options->allow_nonsecurid == -1)
+ 		options->allow_nonsecurid = 1;
+ 	if (options->securid_ignore_shell == -1)
+ 		options->securid_ignore_shell = 0;
  	if (options->forward_agent == -1)
  		options->forward_agent = 0;
  	if (options->forward_x11 == -1)
diff -cN openssh-2.9.9p2/readconf.h openssh-2.9.9p2-securid/readconf.h
*** openssh-2.9.9p2/readconf.h	Wed Sep 19 20:57:56 2001
--- openssh-2.9.9p2-securid/readconf.h	Sun Sep 30 22:27:10 2001
***************
*** 41,46 ****
--- 41,52 ----
  	int     hostbased_authentication;	/* ssh2's rhosts_rsa */
  	int     challenge_response_authentication;
  					/* Try S/Key or TIS, authentication. */
+ 	int     securid_authentication; /* Try SecurID authentication. */
+ 	int     securid_fallback;       /* Allow fall back to normal password */
+ 	int     allow_nonsecurid;       /* Allow non securid users logins */
+ 	char   *securid_usersfile;      /* SecurID auth users in this file */
+ 	int     securid_ignore_shell;   /* Ignore ACE propsed shell? */
+ 
  #if defined(KRB4) || defined(KRB5)
  	int     kerberos_authentication;	/* Try Kerberos authentication. */
  #endif
Common subdirectories: openssh-2.9.9p2/scard and openssh-2.9.9p2-securid/scard
diff -cN openssh-2.9.9p2/servconf.c openssh-2.9.9p2-securid/servconf.c
*** openssh-2.9.9p2/servconf.c	Wed Sep 12 12:32:15 2001
--- openssh-2.9.9p2-securid/servconf.c	Sun Sep 30 22:33:59 2001
***************
*** 69,74 ****
--- 69,81 ----
  	options->hostbased_uses_name_from_packet_only = -1;
  	options->rsa_authentication = -1;
  	options->pubkey_authentication = -1;
+ #ifdef SECURID
+ 	options->securid_authentication = -1;
+ 	options->securid_fallback = -1;
+ 	options->allow_nonsecurid = -1;
+ 	options->securid_usersfile = NULL;
+ 	options->securid_ignore_shell = -1;
+ #endif
  #if defined(KRB4) || defined(KRB5)
  	options->kerberos_authentication = -1;
  	options->kerberos_or_local_passwd = -1;
***************
*** 169,174 ****
--- 176,191 ----
  		options->rsa_authentication = 1;
  	if (options->pubkey_authentication == -1)
  		options->pubkey_authentication = 1;
+ #ifdef SECURID
+ 	if (options->securid_authentication == -1)
+ 		options->securid_authentication = 1;
+ 	if (options->securid_fallback == -1)
+ 		options->securid_fallback = 0;
+ 	if (options->allow_nonsecurid == -1)
+ 		options->securid_fallback = 1;
+ 	if (options->securid_ignore_shell == -1)
+ 		options->securid_ignore_shell = 0;
+ #endif
  #if defined(KRB4) || defined(KRB5)
  	if (options->kerberos_authentication == -1)
  		options->kerberos_authentication = (access(KEYFILE, R_OK) == 0);
***************
*** 225,230 ****
--- 242,251 ----
  	sPort, sHostKeyFile, sServerKeyBits, sLoginGraceTime, sKeyRegenerationTime,
  	sPermitRootLogin, sLogFacility, sLogLevel,
  	sRhostsAuthentication, sRhostsRSAAuthentication, sRSAAuthentication,
+ #ifdef SECURID
+ 	sSecurIDAuthentication, sSecurIDFallBack, sAllowNonSecurID,
+ 	sSecurIDUsersFile, sSecurIDIgnoreShell,
+ #endif
  #if defined(KRB4) || defined(KRB5)
  	sKerberosAuthentication, sKerberosOrLocalPasswd, sKerberosTicketCleanup,
  #endif
***************
*** 263,268 ****
--- 284,296 ----
  	{ "keyregenerationinterval", sKeyRegenerationTime },
  	{ "permitrootlogin", sPermitRootLogin },
  	{ "syslogfacility", sLogFacility },
+ #ifdef SECURID
+ 	{ "securidauthentication", sSecurIDAuthentication },
+ 	{ "securidfallback", sSecurIDFallBack },
+ 	{ "allownonsecurid", sAllowNonSecurID },
+ 	{ "securidusersfile", sSecurIDUsersFile },
+ 	{ "securidignoreshell", sSecurIDIgnoreShell },
+ #endif
  	{ "loglevel", sLogLevel },
  	{ "rhostsauthentication", sRhostsAuthentication },
  	{ "rhostsrsaauthentication", sRhostsRSAAuthentication },
***************
*** 601,606 ****
--- 629,651 ----
  
  		case sKerberosTicketCleanup:
  			intptr = &options->kerberos_ticket_cleanup;
+ 			goto parse_flag;
+ #endif
+ #ifdef SECURID
+ 		case sSecurIDAuthentication:
+ 			intptr = &options->securid_authentication;
+ 			goto parse_flag;
+ 		case sSecurIDFallBack:
+ 			intptr = &options->securid_fallback;
+ 			goto parse_flag;
+ 		case sAllowNonSecurID:
+ 			intptr = &options->allow_nonsecurid;
+ 			goto parse_flag;
+ 		case sSecurIDUsersFile:
+ 			charptr = &options->securid_usersfile;
+ 			goto parse_filename;
+ 		case sSecurIDIgnoreShell:
+ 			intptr = &options->securid_ignore_shell;
  			goto parse_flag;
  #endif
  #if defined(AFS) || defined(KRB5)
diff -cN openssh-2.9.9p2/servconf.h openssh-2.9.9p2-securid/servconf.h
*** openssh-2.9.9p2/servconf.h	Wed Sep 12 12:40:06 2001
--- openssh-2.9.9p2-securid/servconf.h	Sun Sep 30 22:19:47 2001
***************
*** 87,92 ****
--- 87,105 ----
  	int     kerberos_tgt_passing;	/* If true, permit Kerberos TGT
  					 * passing. */
  #endif
+ #ifdef SECURID
+ 	int     securid_authentication; /* If set, use securid */
+ 	int	securid_fallback;	/* If set, allow normal passwords
+ 					   is master/slave are not accessible */
+ 	int	allow_nonsecurid;	/* If set, allow nonsecurid users
+ 					   logins via other means (e.g. PAM) */
+ 	char   *securid_usersfile;	/* If set, only users in the file
+ 					   will authenticate via SecurID
+ 					   The shell need not be .../sdshell */
+ 	int	securid_ignore_shell;	/* If true, use the shell in /etc/passwd
+ 					   instead of the shell proposed by
+ 					   the ACE server. */
+ #endif
  #ifdef AFS
  	int     afs_token_passing;	/* If true, permit AFS token passing. */
  #endif
diff -cN openssh-2.9.9p2/sshd.0 openssh-2.9.9p2-securid/sshd.0
*** openssh-2.9.9p2/sshd.0	Tue Sep 25 18:50:29 2001
--- openssh-2.9.9p2-securid/sshd.0	Sun Sep 30 22:19:47 2001
***************
*** 196,201 ****
--- 196,211 ----
               Only group names are valid; a numerical group ID is not recogM--
               nized.  By default login is allowed regardless of the group list.
  
+      AllowNonSecurID
+              This will allow users that do not meet the SecurID login activaM--
+              tion requirements (not in the SecurIDUsersFile or do not have a
+              shell ending with sdshell, if the SecurIDUsersFile option is used
+              or is omitted, respectively) to still log in using another auM--
+              thentication method (e.g. PAM or passwd.)
+ 
+ 
+ 
+ 
       AllowTcpForwarding
               Specifies whether TCP forwarding is permitted.  The default is
               ``yes''. Note that disabling TCP forwarding does not improve seM--
***************
*** 341,346 ****
--- 351,358 ----
               is yes, the password provided by the user will be validated
               through the Kerberos KDC.  To use this option, the server needs a
               Kerberos servtab which allows the verification of the KDC's idenM--
+ 
+ 
               tity.  Default is ``yes''.
  
       KerberosOrLocalPasswd
***************
*** 702,707 ****
--- 714,720 ----
  
       Each line in these files contains the following fields: hostnames, bits,
       exponent, modulus, comment.  The fields are separated by spaces.
+ 
  
       Hostnames is a comma-separated list of patterns ('*' and '?' act as wildM--
       cards); each pattern in turn is matched against the canonical host name
diff -cN openssh-2.9.9p2/sshd.8 openssh-2.9.9p2-securid/sshd.8
*** openssh-2.9.9p2/sshd.8	Thu Sep 20 19:09:17 2001
--- openssh-2.9.9p2-securid/sshd.8	Sun Sep 30 22:19:47 2001
***************
*** 327,332 ****
--- 327,339 ----
  Only group names are valid; a numerical group ID is not recognized.
  By default login is allowed regardless of the group list.
  .Pp
+ .It Cm AllowNonSecurID
+ This will allow users that do not meet the SecurID login 
+ activation requirements (not in the SecurIDUsersFile or do not 
+ have a shell ending with sdshell, if the SecurIDUsersFile option
+ is used or is omitted, respectively) to still log in using another
+ authentication method (e.g. PAM or passwd.)
+ .Pp
  .It Cm AllowTcpForwarding
  Specifies whether TCP forwarding is permitted.
  The default is
